<!doctype html>
<html class="no-js" lang="en" data-content_root="../">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="index" title="Index" href="../genindex.html" /><link rel="search" title="Search" href="../search.html" /><link rel="next" title="Contributing" href="../CONTRIBUTING.html" /><link rel="prev" title="API Reference" href="../api.html" />

    <!-- Generated with Sphinx 7.4.7 and Furo 2024.08.06 -->
        <title>zensols.lmtask package - Large langauage model experimentation. 0.1.1 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo.css?v=354aac6f" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo-extensions.css?v=302659d7" />
    
    


<style>
  body {
    --color-code-background: #eeffcc;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-with-moon" viewBox="0 0 24 24">
    <title>Auto light/dark, in light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path style="opacity: 50%" d="M 5.411 14.504 C 5.471 14.504 5.532 14.504 5.591 14.504 C 3.639 16.319 4.383 19.569 6.931 20.352 C 7.693 20.586 8.512 20.551 9.25 20.252 C 8.023 23.207 4.056 23.725 2.11 21.184 C 0.166 18.642 1.702 14.949 4.874 14.536 C 5.051 14.512 5.231 14.5 5.411 14.5 L 5.411 14.504 Z"/>
      <line x1="14.5" y1="3.25" x2="14.5" y2="1.25"/>
      <line x1="14.5" y1="15.85" x2="14.5" y2="17.85"/>
      <line x1="10.044" y1="5.094" x2="8.63" y2="3.68"/>
      <line x1="19" y1="14.05" x2="20.414" y2="15.464"/>
      <line x1="8.2" y1="9.55" x2="6.2" y2="9.55"/>
      <line x1="20.8" y1="9.55" x2="22.8" y2="9.55"/>
      <line x1="10.044" y1="14.006" x2="8.63" y2="15.42"/>
      <line x1="19" y1="5.05" x2="20.414" y2="3.636"/>
      <circle cx="14.5" cy="9.55" r="3.6"/>
    </svg>
  </symbol>
  <symbol id="svg-moon-with-sun" viewBox="0 0 24 24">
    <title>Auto light/dark, in dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path d="M 8.282 7.007 C 8.385 7.007 8.494 7.007 8.595 7.007 C 5.18 10.184 6.481 15.869 10.942 17.24 C 12.275 17.648 13.706 17.589 15 17.066 C 12.851 22.236 5.91 23.143 2.505 18.696 C -0.897 14.249 1.791 7.786 7.342 7.063 C 7.652 7.021 7.965 7 8.282 7 L 8.282 7.007 Z"/>
      <line style="opacity: 50%" x1="18" y1="3.705" x2="18" y2="2.5"/>
      <line style="opacity: 50%" x1="18" y1="11.295" x2="18" y2="12.5"/>
      <line style="opacity: 50%" x1="15.316" y1="4.816" x2="14.464" y2="3.964"/>
      <line style="opacity: 50%" x1="20.711" y1="10.212" x2="21.563" y2="11.063"/>
      <line style="opacity: 50%" x1="14.205" y1="7.5" x2="13.001" y2="7.5"/>
      <line style="opacity: 50%" x1="21.795" y1="7.5" x2="23" y2="7.5"/>
      <line style="opacity: 50%" x1="15.316" y1="10.184" x2="14.464" y2="11.036"/>
      <line style="opacity: 50%" x1="20.711" y1="4.789" x2="21.563" y2="3.937"/>
      <circle style="opacity: 50%" cx="18" cy="7.5" r="2.169"/>
    </svg>
  </symbol>
  <symbol id="svg-pencil" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-pencil-code">
      <path d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4" />
      <path d="M13.5 6.5l4 4" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
  <symbol id="svg-eye" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-eye-code">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" />
      <path
        d="M11.11 17.958c-3.209 -.307 -5.91 -2.293 -8.11 -5.958c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6c-.21 .352 -.427 .688 -.647 1.008" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>

<a class="skip-to-content muted-link" href="#furo-main-content">Skip to content</a>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../top.html"><div class="brand">Large langauage model experimentation. 0.1.1 documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
          <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../top.html">
  
  
  <span class="sidebar-brand-text">Large langauage model experimentation. 0.1.1 documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="../search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../index.html">Overview</a></li>
<li class="toctree-l1 current has-children"><a class="reference internal" href="../api.html">API Reference</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle navigation of API Reference</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2 current current-page"><a class="current reference internal" href="#">zensols.lmtask package</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../CONTRIBUTING.html">Contributing</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="view-this-page">
  <a class="muted-link" href="../_sources/api/zensols.lmtask.rst.txt" title="View this page">
    <svg><use href="#svg-eye"></use></svg>
    <span class="visually-hidden">View this page</span>
  </a>
</div>
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
              <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main" id="furo-main-content">
          <section id="zensols-lmtask-package">
<h1>zensols.lmtask package<a class="headerlink" href="#zensols-lmtask-package" title="Link to this heading">¶</a></h1>
<section id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Link to this heading">¶</a></h2>
</section>
<section id="module-zensols.lmtask.app">
<span id="zensols-lmtask-app-module"></span><h2>zensols.lmtask.app module<a class="headerlink" href="#module-zensols.lmtask.app" title="Link to this heading">¶</a></h2>
<p>Large langauage model experimentation.</p>
<dl class="py class">
<dt class="sig sig-object py" id="zensols.lmtask.app.Application">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">zensols.lmtask.app.</span></span><span class="sig-name descname"><span class="pre">Application</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config_factory</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">task_factory</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/lmtask/app.html#Application"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.lmtask.app.Application" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Large langauage model experimentation.</p>
<dl class="py method">
<dt class="sig sig-object py" id="zensols.lmtask.app.Application.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config_factory</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">task_factory</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zensols.lmtask.app.Application.__init__" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.lmtask.app.Application.config_factory">
<span class="sig-name descname"><span class="pre">config_factory</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://plandes.github.io/util/api/zensols.config.html#zensols.config.facbase.ConfigFactory" title="(in Zensols Utilities v1.15.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ConfigFactory</span></code></a></em><a class="headerlink" href="#zensols.lmtask.app.Application.config_factory" title="Link to this definition">¶</a></dt>
<dd><p>Used to create training resources.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zensols.lmtask.app.Application.dataset_sample">
<span class="sig-name descname"><span class="pre">dataset_sample</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">max_sample</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/lmtask/app.html#Application.dataset_sample"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.lmtask.app.Application.dataset_sample" title="Link to this definition">¶</a></dt>
<dd><p>Print sample(s) of the configured (<code class="docutils literal notranslate"><span class="pre">--config</span></code>) dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>max_sample</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a></span>) – the number of sample to print</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zensols.lmtask.app.Application.instruct">
<span class="sig-name descname"><span class="pre">instruct</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">task_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">instruction</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">role</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_format</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/lmtask/app.html#Application.instruct"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.lmtask.app.Application.instruct" title="Link to this definition">¶</a></dt>
<dd><p>Generate text by inferencing with the model.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>task_name</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></span>) – the task that generates the result</p></li>
<li><p><strong>instruction</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></span>) – added to the prompt to instruction the model</p></li>
<li><p><strong>role</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></span>) – the role the model takes</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zensols.lmtask.app.Application.show_task">
<span class="sig-name descname"><span class="pre">show_task</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">task_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/lmtask/app.html#Application.show_task"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.lmtask.app.Application.show_task" title="Link to this definition">¶</a></dt>
<dd><p>Print the configuration of a task if <code class="docutils literal notranslate"><span class="pre">--name</span></code> is given, otherise a
list of available tasks.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>task_name</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></span>) – the task that creates the prompt and parses the result</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zensols.lmtask.app.Application.show_trainer">
<span class="sig-name descname"><span class="pre">show_trainer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">long_output</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/lmtask/app.html#Application.show_trainer"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.lmtask.app.Application.show_trainer" title="Link to this definition">¶</a></dt>
<dd><p>Print configuration and dataset stats of the configured
(<code class="docutils literal notranslate"><span class="pre">--config</span></code>) trainer.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>long_output</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a></span>) – verbosity</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zensols.lmtask.app.Application.stream">
<span class="sig-name descname"><span class="pre">stream</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">task_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prompt</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/lmtask/app.html#Application.stream"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.lmtask.app.Application.stream" title="Link to this definition">¶</a></dt>
<dd><p>Stream generated text from the model.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>task_name</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></span>) – the task that generates the result</p></li>
<li><p><strong>prompt</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></span>) – the prompt text as input to the model</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.lmtask.app.Application.task_factory">
<span class="sig-name descname"><span class="pre">task_factory</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#zensols.lmtask.task.TaskFactory" title="zensols.lmtask.task.TaskFactory"><code class="xref py py-class docutils literal notranslate"><span class="pre">TaskFactory</span></code></a></em><a class="headerlink" href="#zensols.lmtask.app.Application.task_factory" title="Link to this definition">¶</a></dt>
<dd><p>Create tasks used to fullfill CLI requests.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zensols.lmtask.app.Application.train">
<span class="sig-name descname"><span class="pre">train</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/lmtask/app.html#Application.train"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.lmtask.app.Application.train" title="Link to this definition">¶</a></dt>
<dd><p>Train a new model on a configured (<code class="docutils literal notranslate"><span class="pre">--config</span></code>) dataset.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="zensols.lmtask.app.PrototypeApplication">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">zensols.lmtask.app.</span></span><span class="sig-name descname"><span class="pre">PrototypeApplication</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config_factory</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">app</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prompt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Once</span> <span class="pre">upon</span> <span class="pre">a</span> <span class="pre">time,</span> <span class="pre">in</span> <span class="pre">a</span> <span class="pre">galaxy,</span> <span class="pre">far</span> <span class="pre">far</span> <span class="pre">away,'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/lmtask/app.html#PrototypeApplication"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.lmtask.app.PrototypeApplication" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Used by the Python REPL for prototyping.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.lmtask.app.PrototypeApplication.CLI_META">
<span class="sig-name descname"><span class="pre">CLI_META</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{'is_usage_visible':</span> <span class="pre">False}</span></em><a class="headerlink" href="#zensols.lmtask.app.PrototypeApplication.CLI_META" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zensols.lmtask.app.PrototypeApplication.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config_factory</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">app</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prompt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Once</span> <span class="pre">upon</span> <span class="pre">a</span> <span class="pre">time,</span> <span class="pre">in</span> <span class="pre">a</span> <span class="pre">galaxy,</span> <span class="pre">far</span> <span class="pre">far</span> <span class="pre">away,'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zensols.lmtask.app.PrototypeApplication.__init__" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.lmtask.app.PrototypeApplication.app">
<span class="sig-name descname"><span class="pre">app</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#zensols.lmtask.app.Application" title="zensols.lmtask.app.Application"><code class="xref py py-class docutils literal notranslate"><span class="pre">Application</span></code></a></em><a class="headerlink" href="#zensols.lmtask.app.PrototypeApplication.app" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.lmtask.app.PrototypeApplication.config_factory">
<span class="sig-name descname"><span class="pre">config_factory</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://plandes.github.io/util/api/zensols.config.html#zensols.config.facbase.ConfigFactory" title="(in Zensols Utilities v1.15.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ConfigFactory</span></code></a></em><a class="headerlink" href="#zensols.lmtask.app.PrototypeApplication.config_factory" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.lmtask.app.PrototypeApplication.prompt">
<span class="sig-name descname"><span class="pre">prompt</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'Once</span> <span class="pre">upon</span> <span class="pre">a</span> <span class="pre">time,</span> <span class="pre">in</span> <span class="pre">a</span> <span class="pre">galaxy,</span> <span class="pre">far</span> <span class="pre">far</span> <span class="pre">away,'</span></em><a class="headerlink" href="#zensols.lmtask.app.PrototypeApplication.prompt" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zensols.lmtask.app.PrototypeApplication.proto">
<span class="sig-name descname"><span class="pre">proto</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">run</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/lmtask/app.html#PrototypeApplication.proto"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.lmtask.app.PrototypeApplication.proto" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</section>
<section id="module-zensols.lmtask.cli">
<span id="zensols-lmtask-cli-module"></span><h2>zensols.lmtask.cli module<a class="headerlink" href="#module-zensols.lmtask.cli" title="Link to this heading">¶</a></h2>
<p>Command line entry point to the application.</p>
<dl class="py class">
<dt class="sig sig-object py" id="zensols.lmtask.cli.ApplicationFactory">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">zensols.lmtask.cli.</span></span><span class="sig-name descname"><span class="pre">ApplicationFactory</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/lmtask/cli.html#ApplicationFactory"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.lmtask.cli.ApplicationFactory" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://plandes.github.io/util/api/zensols.cli.html#zensols.cli.app.ApplicationFactory" title="(in Zensols Utilities v1.15.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ApplicationFactory</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="zensols.lmtask.cli.ApplicationFactory.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/lmtask/cli.html#ApplicationFactory.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.lmtask.cli.ApplicationFactory.__init__" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zensols.lmtask.cli.ApplicationFactory.get_application">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_application</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/lmtask/cli.html#ApplicationFactory.get_application"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.lmtask.cli.ApplicationFactory.get_application" title="Link to this definition">¶</a></dt>
<dd><p>Get a text generator instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="sphinx_autodoc_typehints-type"><a class="reference internal" href="#zensols.lmtask.generate.TextGenerator" title="zensols.lmtask.generate.TextGenerator"><code class="xref py py-class docutils literal notranslate"><span class="pre">TextGenerator</span></code></a></span></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zensols.lmtask.cli.ApplicationFactory.get_task_factory">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_task_factory</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/lmtask/cli.html#ApplicationFactory.get_task_factory"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.lmtask.cli.ApplicationFactory.get_task_factory" title="Link to this definition">¶</a></dt>
<dd><p>Get the factory that creates tasks.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="sphinx_autodoc_typehints-type"><a class="reference internal" href="#zensols.lmtask.task.TaskFactory" title="zensols.lmtask.task.TaskFactory"><code class="xref py py-class docutils literal notranslate"><span class="pre">TaskFactory</span></code></a></span></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="zensols.lmtask.cli.main">
<span class="sig-prename descclassname"><span class="pre">zensols.lmtask.cli.</span></span><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">args</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">['/Users/landes/opt/lib/pixi/envs/zensols_relpo/bin/sphinx-build',</span> <span class="pre">'-M',</span> <span class="pre">'html',</span> <span class="pre">'/Users/landes/view/nlp/lmtask/target/doc/stage',</span> <span class="pre">'/Users/landes/view/nlp/lmtask/target/doc/build']</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/lmtask/cli.html#main"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.lmtask.cli.main" title="Link to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://plandes.github.io/util/api/zensols.cli.html#zensols.cli.app.ActionResult" title="(in Zensols Utilities v1.15.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ActionResult</span></code></a></span></p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-zensols.lmtask.dataset">
<span id="zensols-lmtask-dataset-module"></span><h2>zensols.lmtask.dataset module<a class="headerlink" href="#module-zensols.lmtask.dataset" title="Link to this heading">¶</a></h2>
<p>An implementation of a dataset generator <a class="reference internal" href="#zensols.lmtask.task.TaskDatasetFactory" title="zensols.lmtask.task.TaskDatasetFactory"><code class="xref py py-class docutils literal notranslate"><span class="pre">task.TaskDatasetFactory</span></code></a>.</p>
<dl class="py class">
<dt class="sig sig-object py" id="zensols.lmtask.dataset.LoadedTaskDatasetFactory">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">zensols.lmtask.dataset.</span></span><span class="sig-name descname"><span class="pre">LoadedTaskDatasetFactory</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">task</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">text_field='text'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">messages_field='messages'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">eval_field='text'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">source=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">load_args=&lt;factory&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pre_process=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">post_process=None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/lmtask/dataset.html#LoadedTaskDatasetFactory"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.lmtask.dataset.LoadedTaskDatasetFactory" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#zensols.lmtask.task.TaskDatasetFactory" title="zensols.lmtask.task.TaskDatasetFactory"><code class="xref py py-class docutils literal notranslate"><span class="pre">TaskDatasetFactory</span></code></a></p>
<p>A utility class meant to be created from an application configuration.
This class creates a dataframe used by <a class="reference internal" href="#zensols.lmtask.train.Trainer" title="zensols.lmtask.train.Trainer"><code class="xref py py-class docutils literal notranslate"><span class="pre">Trainer</span></code></a> and optionally does
post processing (i.e. filtering and mapping).</p>
<dl class="py method">
<dt class="sig sig-object py" id="zensols.lmtask.dataset.LoadedTaskDatasetFactory.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">task</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">text_field='text'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">messages_field='messages'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">eval_field='text'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">source=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">load_args=&lt;factory&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pre_process=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">post_process=None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zensols.lmtask.dataset.LoadedTaskDatasetFactory.__init__" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zensols.lmtask.dataset.LoadedTaskDatasetFactory.clear_generator_cache">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">clear_generator_cache</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/lmtask/dataset.html#LoadedTaskDatasetFactory.clear_generator_cache"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.lmtask.dataset.LoadedTaskDatasetFactory.clear_generator_cache" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.lmtask.dataset.LoadedTaskDatasetFactory.load_args">
<span class="sig-name descname"><span class="pre">load_args</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Dict</span></code></a><span class="pre">[</span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a><span class="pre">,</span> <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code></a><span class="pre">]</span></em><a class="headerlink" href="#zensols.lmtask.dataset.LoadedTaskDatasetFactory.load_args" title="Link to this definition">¶</a></dt>
<dd><p>Additional arguments given to <code class="xref py py-func docutils literal notranslate"><span class="pre">datasets.load_dataset()</span></code>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.lmtask.dataset.LoadedTaskDatasetFactory.post_process">
<span class="sig-name descname"><span class="pre">post_process</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.13)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a><span class="pre">[</span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a><span class="pre">,</span> <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Callable" title="(in Python v3.13)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code></a><span class="pre">]</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#zensols.lmtask.dataset.LoadedTaskDatasetFactory.post_process" title="Link to this definition">¶</a></dt>
<dd><p>Code to call after the dataset is created and the task has applied any
template.</p>
<dl class="field-list simple">
<dt class="field-odd">See<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#zensols.lmtask.dataset.LoadedTaskDatasetFactory.pre_process" title="zensols.lmtask.dataset.LoadedTaskDatasetFactory.pre_process"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pre_process</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.lmtask.dataset.LoadedTaskDatasetFactory.pre_process">
<span class="sig-name descname"><span class="pre">pre_process</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.13)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a><span class="pre">[</span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a><span class="pre">,</span> <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Callable" title="(in Python v3.13)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code></a><span class="pre">]</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#zensols.lmtask.dataset.LoadedTaskDatasetFactory.pre_process" title="Link to this definition">¶</a></dt>
<dd><p>Code to call after the dataset is created but before the task applies any
template.  If this is a string <a class="reference external" href="https://docs.python.org/3/library/functions.html#exec" title="(in Python v3.13)"><code class="xref py py-func docutils literal notranslate"><span class="pre">exec()</span></code></a> is used to evaluate it.
Otherwise it is treated as a callable where the old dataset is the input and
the returned value is the replaced dataset.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.lmtask.dataset.LoadedTaskDatasetFactory.source">
<span class="sig-name descname"><span class="pre">source</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.13)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a><span class="pre">[</span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a><span class="pre">,</span> <a class="reference external" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Path</span></code></a><span class="pre">,</span> <a class="reference external" href="https://plandes.github.io/util/api/zensols.persist.html#zensols.persist.domain.Stash" title="(in Zensols Utilities v1.15.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Stash</span></code></a><span class="pre">,</span> <a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v2.3.1)"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a><span class="pre">,</span> <code class="xref py py-class docutils literal notranslate"><span class="pre">Dataset</span></code><span class="pre">]</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#zensols.lmtask.dataset.LoadedTaskDatasetFactory.source" title="Link to this definition">¶</a></dt>
<dd><p>Used as the source data in the created dataset.</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-zensols.lmtask.generate">
<span id="zensols-lmtask-generate-module"></span><h2>zensols.lmtask.generate module<a class="headerlink" href="#module-zensols.lmtask.generate" title="Link to this heading">¶</a></h2>
<p>Facade to HuggingFace text generation.</p>
<dl class="py class">
<dt class="sig sig-object py" id="zensols.lmtask.generate.CachingGenerator">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">zensols.lmtask.generate.</span></span><span class="sig-name descname"><span class="pre">CachingGenerator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_delegate</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_stash</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_hasher=&lt;factory&gt;</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/lmtask/generate.html#CachingGenerator"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.lmtask.generate.CachingGenerator" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#zensols.lmtask.generate.TextGenerator" title="zensols.lmtask.generate.TextGenerator"><code class="xref py py-class docutils literal notranslate"><span class="pre">TextGenerator</span></code></a></p>
<p>A generator that caches response using a hash of the model input as a
key.</p>
<dl class="py method">
<dt class="sig sig-object py" id="zensols.lmtask.generate.CachingGenerator.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_delegate</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_stash</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_hasher=&lt;factory&gt;</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zensols.lmtask.generate.CachingGenerator.__init__" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zensols.lmtask.generate.CachingGenerator.clear">
<span class="sig-name descname"><span class="pre">clear</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/lmtask/generate.html#CachingGenerator.clear"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.lmtask.generate.CachingGenerator.clear" title="Link to this definition">¶</a></dt>
<dd><p>Clear any model state.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="zensols.lmtask.generate.ConstantTextGenerator">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">zensols.lmtask.generate.</span></span><span class="sig-name descname"><span class="pre">ConstantTextGenerator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config_factory</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">response</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">post_init_source</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/lmtask/generate.html#ConstantTextGenerator"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.lmtask.generate.ConstantTextGenerator" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#zensols.lmtask.generate.TextGenerator" title="zensols.lmtask.generate.TextGenerator"><code class="xref py py-class docutils literal notranslate"><span class="pre">TextGenerator</span></code></a></p>
<p>A generator that responses with <a class="reference internal" href="#zensols.lmtask.generate.ConstantTextGenerator.response" title="zensols.lmtask.generate.ConstantTextGenerator.response"><code class="xref py py-obj docutils literal notranslate"><span class="pre">response</span></code></a> with every generation
call for the purpose of debugging.</p>
<dl class="py method">
<dt class="sig sig-object py" id="zensols.lmtask.generate.ConstantTextGenerator.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config_factory</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">response</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">post_init_source</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zensols.lmtask.generate.ConstantTextGenerator.__init__" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.lmtask.generate.ConstantTextGenerator.config_factory">
<span class="sig-name descname"><span class="pre">config_factory</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://plandes.github.io/util/api/zensols.config.html#zensols.config.facbase.ConfigFactory" title="(in Zensols Utilities v1.15.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ConfigFactory</span></code></a></em><a class="headerlink" href="#zensols.lmtask.generate.ConstantTextGenerator.config_factory" title="Link to this definition">¶</a></dt>
<dd><p>Used to set optional mock attributes in <a class="reference internal" href="#zensols.lmtask.generate.ConstantTextGenerator.post_init_source" title="zensols.lmtask.generate.ConstantTextGenerator.post_init_source"><code class="xref py py-obj docutils literal notranslate"><span class="pre">post_init_source</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.lmtask.generate.ConstantTextGenerator.post_init_source">
<span class="sig-name descname"><span class="pre">post_init_source</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#zensols.lmtask.generate.ConstantTextGenerator.post_init_source" title="Link to this definition">¶</a></dt>
<dd><p>Python source code to run in the initializer.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.lmtask.generate.ConstantTextGenerator.response">
<span class="sig-name descname"><span class="pre">response</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></em><a class="headerlink" href="#zensols.lmtask.generate.ConstantTextGenerator.response" title="Link to this definition">¶</a></dt>
<dd><p>The fixed response for each <code class="xref py py-meth docutils literal notranslate"><span class="pre">generate()</span></code> call or the prompt if
<code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="zensols.lmtask.generate.GenerateTask">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">zensols.lmtask.generate.</span></span><span class="sig-name descname"><span class="pre">GenerateTask</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">description</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">request_class</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">response_class</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">generator</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">resource</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">train_add_eos</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/lmtask/generate.html#GenerateTask"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.lmtask.generate.GenerateTask" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#zensols.lmtask.task.Task" title="zensols.lmtask.task.Task"><code class="xref py py-class docutils literal notranslate"><span class="pre">Task</span></code></a></p>
<p>Uses a <a class="reference internal" href="#zensols.lmtask.generate.TextGenerator" title="zensols.lmtask.generate.TextGenerator"><code class="xref py py-class docutils literal notranslate"><span class="pre">TextGenerator</span></code></a> (<a class="reference internal" href="#zensols.lmtask.generate.GenerateTask.generator" title="zensols.lmtask.generate.GenerateTask.generator"><code class="xref py py-obj docutils literal notranslate"><span class="pre">generator</span></code></a>) to generate a response.</p>
<dl class="py method">
<dt class="sig sig-object py" id="zensols.lmtask.generate.GenerateTask.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">description</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">request_class</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">response_class</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">generator</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">resource</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">train_add_eos</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zensols.lmtask.generate.GenerateTask.__init__" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zensols.lmtask.generate.GenerateTask.clear">
<span class="sig-name descname"><span class="pre">clear</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/lmtask/generate.html#GenerateTask.clear"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.lmtask.generate.GenerateTask.clear" title="Link to this definition">¶</a></dt>
<dd><p>Clear any generator state or cache.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.lmtask.generate.GenerateTask.generator">
<span class="sig-name descname"><span class="pre">generator</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#zensols.lmtask.generate.TextGenerator" title="zensols.lmtask.generate.TextGenerator"><code class="xref py py-class docutils literal notranslate"><span class="pre">TextGenerator</span></code></a></em><a class="headerlink" href="#zensols.lmtask.generate.GenerateTask.generator" title="Link to this definition">¶</a></dt>
<dd><p>A client facade of a chat or instruct-based large language model.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.lmtask.generate.GenerateTask.resource">
<span class="sig-name descname"><span class="pre">resource</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#zensols.lmtask.generate.GeneratorResource" title="zensols.lmtask.generate.GeneratorResource"><code class="xref py py-class docutils literal notranslate"><span class="pre">GeneratorResource</span></code></a></em><a class="headerlink" href="#zensols.lmtask.generate.GenerateTask.resource" title="Link to this definition">¶</a></dt>
<dd><p>The class that creates resources such as the tokenizer and model.  This
should be the base model resource so training tasks do not depend on the
model they will eventually create.</p>
<p>This is also used by <a class="reference internal" href="#zensols.lmtask.instruct.InstructTask" title="zensols.lmtask.instruct.InstructTask"><code class="xref py py-class docutils literal notranslate"><span class="pre">InstructTask</span></code></a> for its chat template.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.lmtask.generate.GenerateTask.train_add_eos">
<span class="sig-name descname"><span class="pre">train_add_eos</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">False</span></em><a class="headerlink" href="#zensols.lmtask.generate.GenerateTask.train_add_eos" title="Link to this definition">¶</a></dt>
<dd><p>Whether to add the end of sentence token to the output when mapping the
dataset for training.  Newer versions of the <code class="xref py py-class docutils literal notranslate"><span class="pre">trl.SFTTrainer</span></code> class
add (and force) this already.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="zensols.lmtask.generate.GeneratorOutput">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">zensols.lmtask.generate.</span></span><span class="sig-name descname"><span class="pre">GeneratorOutput</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model_output</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parsed</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/lmtask/generate.html#GeneratorOutput"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.lmtask.generate.GeneratorOutput" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://plandes.github.io/util/api/zensols.config.html#zensols.config.dictable.Dictable" title="(in Zensols Utilities v1.15.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Dictable</span></code></a></p>
<p>Container instances of model output from <a class="reference internal" href="#zensols.lmtask.generate.TextGenerator" title="zensols.lmtask.generate.TextGenerator"><code class="xref py py-class docutils literal notranslate"><span class="pre">TextGenerator</span></code></a>.</p>
<dl class="py method">
<dt class="sig sig-object py" id="zensols.lmtask.generate.GeneratorOutput.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model_output</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parsed</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zensols.lmtask.generate.GeneratorOutput.__init__" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.lmtask.generate.GeneratorOutput.model_output">
<span class="sig-name descname"><span class="pre">model_output</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></em><a class="headerlink" href="#zensols.lmtask.generate.GeneratorOutput.model_output" title="Link to this definition">¶</a></dt>
<dd><p>The unmodified raw model output.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.lmtask.generate.GeneratorOutput.parsed">
<span class="sig-name descname"><span class="pre">parsed</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Tuple" title="(in Python v3.13)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Tuple</span></code></a><span class="pre">[</span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a><span class="pre">,</span> <a class="reference external" href="https://docs.python.org/3/library/constants.html#Ellipsis" title="(in Python v3.13)"><code class="xref py py-data docutils literal notranslate"><span class="pre">...</span></code></a><span class="pre">]</span></em><a class="headerlink" href="#zensols.lmtask.generate.GeneratorOutput.parsed" title="Link to this definition">¶</a></dt>
<dd><p>The processed model output with special tokens stripped.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="zensols.lmtask.generate.GeneratorResource">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">zensols.lmtask.generate.</span></span><span class="sig-name descname"><span class="pre">GeneratorResource</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_class=&lt;class</span> <span class="pre">'transformers.models.auto.modeling_auto.AutoModelForCausalLM'&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tokenizer_class=&lt;class</span> <span class="pre">'transformers.models.auto.tokenization_auto.AutoTokenizer'&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">peft_model_id=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">peft_model_class=&lt;class</span> <span class="pre">'peft.auto.AutoPeftModelForCausalLM'&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_desc=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">system_role_name='system'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_args=&lt;factory&gt;</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/lmtask/generate.html#GeneratorResource"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.lmtask.generate.GeneratorResource" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://plandes.github.io/util/api/zensols.config.html#zensols.config.dictable.Dictable" title="(in Zensols Utilities v1.15.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Dictable</span></code></a></p>
<p>A client facade of a chat-based large language model.</p>
<dl class="py method">
<dt class="sig sig-object py" id="zensols.lmtask.generate.GeneratorResource.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_class=&lt;class</span> <span class="pre">'transformers.models.auto.modeling_auto.AutoModelForCausalLM'&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tokenizer_class=&lt;class</span> <span class="pre">'transformers.models.auto.tokenization_auto.AutoTokenizer'&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">peft_model_id=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">peft_model_class=&lt;class</span> <span class="pre">'peft.auto.AutoPeftModelForCausalLM'&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_desc=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">system_role_name='system'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_args=&lt;factory&gt;</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zensols.lmtask.generate.GeneratorResource.__init__" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zensols.lmtask.generate.GeneratorResource.clear">
<span class="sig-name descname"><span class="pre">clear</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">include_cuda</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/lmtask/generate.html#GeneratorResource.clear"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.lmtask.generate.GeneratorResource.clear" title="Link to this definition">¶</a></dt>
<dd><p>Clear the cached tokenizer, model and optionally CUDA.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zensols.lmtask.generate.GeneratorResource.configure_model">
<span class="sig-name descname"><span class="pre">configure_model</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/lmtask/generate.html#GeneratorResource.configure_model"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.lmtask.generate.GeneratorResource.configure_model" title="Link to this definition">¶</a></dt>
<dd><p>Make any necessary updates programatically.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zensols.lmtask.generate.GeneratorResource.configure_tokenizer">
<span class="sig-name descname"><span class="pre">configure_tokenizer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tokenizer</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/lmtask/generate.html#GeneratorResource.configure_tokenizer"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.lmtask.generate.GeneratorResource.configure_tokenizer" title="Link to this definition">¶</a></dt>
<dd><p>Make any necessary updates programatically (i.e. set special
tokens).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zensols.lmtask.generate.GeneratorResource.get_model_path">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_model_path</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/lmtask/generate.html#GeneratorResource.get_model_path"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.lmtask.generate.GeneratorResource.get_model_path" title="Link to this definition">¶</a></dt>
<dd><p>Create a normalized file name from a HF model ID string useful for
creating checkpoint directory names.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>model_id</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></span>) – the model ID (i.e. <code class="docutils literal notranslate"><span class="pre">meta-llama/Llama-3.1-8B</span></code>)</p></li>
<li><p><strong>parent</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Path</span></code></a></span>) – the base directory used in the return value if given</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Path</span></code></a></span></p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="zensols.lmtask.generate.GeneratorResource.model">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">model</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">PreTrainedModel</span></em><a class="headerlink" href="#zensols.lmtask.generate.GeneratorResource.model" title="Link to this definition">¶</a></dt>
<dd><p>The LLM.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.lmtask.generate.GeneratorResource.model_args">
<span class="sig-name descname"><span class="pre">model_args</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Dict</span></code></a><span class="pre">[</span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a><span class="pre">,</span> <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code></a><span class="pre">]</span></em><a class="headerlink" href="#zensols.lmtask.generate.GeneratorResource.model_args" title="Link to this definition">¶</a></dt>
<dd><p>The arguments given to the HF model <code class="docutils literal notranslate"><span class="pre">from_pretrained</span></code> method.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.lmtask.generate.GeneratorResource.model_class">
<span class="sig-name descname"><span class="pre">model_class</span></span><a class="headerlink" href="#zensols.lmtask.generate.GeneratorResource.model_class" title="Link to this definition">¶</a></dt>
<dd><p>The class used to create the model with
<code class="xref py py-meth docutils literal notranslate"><span class="pre">from_pretrained()</span></code>.</p>
<p>alias of <code class="xref py py-class docutils literal notranslate"><span class="pre">AutoModelForCausalLM</span></code></p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.lmtask.generate.GeneratorResource.model_desc">
<span class="sig-name descname"><span class="pre">model_desc</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#zensols.lmtask.generate.GeneratorResource.model_desc" title="Link to this definition">¶</a></dt>
<dd><p>A human readable description of the model this resource contains.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="zensols.lmtask.generate.GeneratorResource.model_file_name">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">model_file_name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><a class="headerlink" href="#zensols.lmtask.generate.GeneratorResource.model_file_name" title="Link to this definition">¶</a></dt>
<dd><p>A normalized file name friendly string based on <a class="reference internal" href="#zensols.lmtask.generate.GeneratorResource.model_desc" title="zensols.lmtask.generate.GeneratorResource.model_desc"><code class="xref py py-obj docutils literal notranslate"><span class="pre">model_desc</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.lmtask.generate.GeneratorResource.model_id">
<span class="sig-name descname"><span class="pre">model_id</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.13)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a><span class="pre">[</span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a><span class="pre">,</span> <a class="reference external" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Path</span></code></a><span class="pre">]</span></em><a class="headerlink" href="#zensols.lmtask.generate.GeneratorResource.model_id" title="Link to this definition">¶</a></dt>
<dd><p>The HF model ID or path to the model.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.lmtask.generate.GeneratorResource.name">
<span class="sig-name descname"><span class="pre">name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></em><a class="headerlink" href="#zensols.lmtask.generate.GeneratorResource.name" title="Link to this definition">¶</a></dt>
<dd><p>The section of this configured instance in the application config.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.lmtask.generate.GeneratorResource.peft_model_class">
<span class="sig-name descname"><span class="pre">peft_model_class</span></span><a class="headerlink" href="#zensols.lmtask.generate.GeneratorResource.peft_model_class" title="Link to this definition">¶</a></dt>
<dd><p>The class used to create the model with
<code class="xref py py-meth docutils literal notranslate"><span class="pre">from_pretrained()</span></code>.</p>
<p>alias of <code class="xref py py-class docutils literal notranslate"><span class="pre">AutoPeftModelForCausalLM</span></code></p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.lmtask.generate.GeneratorResource.peft_model_id">
<span class="sig-name descname"><span class="pre">peft_model_id</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.13)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a><span class="pre">[</span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a><span class="pre">,</span> <a class="reference external" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Path</span></code></a><span class="pre">]</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#zensols.lmtask.generate.GeneratorResource.peft_model_id" title="Link to this definition">¶</a></dt>
<dd><p>The HF model ID or path to the Peft model or <code class="docutils literal notranslate"><span class="pre">None</span></code> if there is none.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.lmtask.generate.GeneratorResource.system_role_name">
<span class="sig-name descname"><span class="pre">system_role_name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'system'</span></em><a class="headerlink" href="#zensols.lmtask.generate.GeneratorResource.system_role_name" title="Link to this definition">¶</a></dt>
<dd><p>The default name of the system’s role.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="zensols.lmtask.generate.GeneratorResource.tokenizer">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">tokenizer</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">PreTrainedTokenizer</span></em><a class="headerlink" href="#zensols.lmtask.generate.GeneratorResource.tokenizer" title="Link to this definition">¶</a></dt>
<dd><p>The model’s tokenzier.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.lmtask.generate.GeneratorResource.tokenizer_class">
<span class="sig-name descname"><span class="pre">tokenizer_class</span></span><a class="headerlink" href="#zensols.lmtask.generate.GeneratorResource.tokenizer_class" title="Link to this definition">¶</a></dt>
<dd><p>The class used to create the tokenizer with
:meth:<a href="#id1"><span class="problematic" id="id2">`</span></a>~transformers.AutoTokenizer.from_pretrained.</p>
<p>alias of <code class="xref py py-class docutils literal notranslate"><span class="pre">AutoTokenizer</span></code></p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="zensols.lmtask.generate.ModelTextGenerator">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">zensols.lmtask.generate.</span></span><span class="sig-name descname"><span class="pre">ModelTextGenerator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">resource</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tokenize_params=&lt;factory&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tokenize_decode_params=&lt;factory&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">generate_params=&lt;factory&gt;</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/lmtask/generate.html#ModelTextGenerator"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.lmtask.generate.ModelTextGenerator" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#zensols.lmtask.generate.TextGenerator" title="zensols.lmtask.generate.TextGenerator"><code class="xref py py-class docutils literal notranslate"><span class="pre">TextGenerator</span></code></a></p>
<p>An implementation that uses HuggingFace framework classes from
<a class="reference internal" href="#zensols.lmtask.generate.GeneratorResource" title="zensols.lmtask.generate.GeneratorResource"><code class="xref py py-class docutils literal notranslate"><span class="pre">GeneratorResource</span></code></a> to answer queries.</p>
<dl class="py method">
<dt class="sig sig-object py" id="zensols.lmtask.generate.ModelTextGenerator.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">resource</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tokenize_params=&lt;factory&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tokenize_decode_params=&lt;factory&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">generate_params=&lt;factory&gt;</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zensols.lmtask.generate.ModelTextGenerator.__init__" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zensols.lmtask.generate.ModelTextGenerator.clear">
<span class="sig-name descname"><span class="pre">clear</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/lmtask/generate.html#ModelTextGenerator.clear"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.lmtask.generate.ModelTextGenerator.clear" title="Link to this definition">¶</a></dt>
<dd><p>Clear any model state.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.lmtask.generate.ModelTextGenerator.generate_params">
<span class="sig-name descname"><span class="pre">generate_params</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Dict</span></code></a><span class="pre">[</span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a><span class="pre">,</span> <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code></a><span class="pre">]</span></em><a class="headerlink" href="#zensols.lmtask.generate.ModelTextGenerator.generate_params" title="Link to this definition">¶</a></dt>
<dd><p>Parameters given to the model’s inference method for each prompt.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.lmtask.generate.ModelTextGenerator.resource">
<span class="sig-name descname"><span class="pre">resource</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#zensols.lmtask.generate.GeneratorResource" title="zensols.lmtask.generate.GeneratorResource"><code class="xref py py-class docutils literal notranslate"><span class="pre">GeneratorResource</span></code></a></em><a class="headerlink" href="#zensols.lmtask.generate.ModelTextGenerator.resource" title="Link to this definition">¶</a></dt>
<dd><p>The class that creates resources such as the tokenizer and model.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zensols.lmtask.generate.ModelTextGenerator.stream">
<span class="sig-name descname"><span class="pre">stream</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">prompt</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">writer=&lt;_io.TextIOWrapper</span> <span class="pre">name='&lt;stdout&gt;'</span> <span class="pre">mode='w'</span> <span class="pre">encoding='utf-8'&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">width=80</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/lmtask/generate.html#ModelTextGenerator.stream"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.lmtask.generate.ModelTextGenerator.stream" title="Link to this definition">¶</a></dt>
<dd><p>Stream the model’s output from a <code class="docutils literal notranslate"><span class="pre">prompt</span></code> input.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>prompt</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></span>) – the input to give to the model</p></li>
<li><p><strong>writer</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/io.html#io.TextIOBase" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">TextIOBase</span></code></a></span>) – the data sink</p></li>
<li><p><strong>width</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a></span>) – the maximum width of each line’s streamed text; if
<code class="docutils literal notranslate"><span class="pre">None</span></code>, no modification will be done on the text output</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.lmtask.generate.ModelTextGenerator.tokenize_decode_params">
<span class="sig-name descname"><span class="pre">tokenize_decode_params</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Dict</span></code></a><span class="pre">[</span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a><span class="pre">,</span> <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code></a><span class="pre">]</span></em><a class="headerlink" href="#zensols.lmtask.generate.ModelTextGenerator.tokenize_decode_params" title="Link to this definition">¶</a></dt>
<dd><p>Parameters to add or override in the model tokenize call.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.lmtask.generate.ModelTextGenerator.tokenize_params">
<span class="sig-name descname"><span class="pre">tokenize_params</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Dict</span></code></a><span class="pre">[</span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a><span class="pre">,</span> <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code></a><span class="pre">]</span></em><a class="headerlink" href="#zensols.lmtask.generate.ModelTextGenerator.tokenize_params" title="Link to this definition">¶</a></dt>
<dd><p>Parameters to add or override in the model tokenize call.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="zensols.lmtask.generate.ReplaceTextGenerator">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">zensols.lmtask.generate.</span></span><span class="sig-name descname"><span class="pre">ReplaceTextGenerator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">resource</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tokenize_params=&lt;factory&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tokenize_decode_params=&lt;factory&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">generate_params=&lt;factory&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">replacements=()</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/lmtask/generate.html#ReplaceTextGenerator"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.lmtask.generate.ReplaceTextGenerator" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#zensols.lmtask.generate.ModelTextGenerator" title="zensols.lmtask.generate.ModelTextGenerator"><code class="xref py py-class docutils literal notranslate"><span class="pre">ModelTextGenerator</span></code></a></p>
<p>A text generator that generates response by replacing regular
expressions.  This is helpful for removing special tokens.</p>
<dl class="py method">
<dt class="sig sig-object py" id="zensols.lmtask.generate.ReplaceTextGenerator.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">resource</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tokenize_params=&lt;factory&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tokenize_decode_params=&lt;factory&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">generate_params=&lt;factory&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">replacements=()</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zensols.lmtask.generate.ReplaceTextGenerator.__init__" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.lmtask.generate.ReplaceTextGenerator.replacements">
<span class="sig-name descname"><span class="pre">replacements</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Tuple" title="(in Python v3.13)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Tuple</span></code></a><span class="pre">[</span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Tuple" title="(in Python v3.13)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Tuple</span></code></a><span class="pre">[</span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.13)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a><span class="pre">[</span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a><span class="pre">,</span> <a class="reference external" href="https://docs.python.org/3/library/re.html#re.Pattern" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Pattern</span></code></a><span class="pre">],</span> <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a><span class="pre">],</span> <a class="reference external" href="https://docs.python.org/3/library/constants.html#Ellipsis" title="(in Python v3.13)"><code class="xref py py-data docutils literal notranslate"><span class="pre">...</span></code></a><span class="pre">]</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">()</span></em><a class="headerlink" href="#zensols.lmtask.generate.ReplaceTextGenerator.replacements" title="Link to this definition">¶</a></dt>
<dd><p>The a tuple <code class="docutils literal notranslate"><span class="pre">(&lt;regular</span> <span class="pre">expression&gt;,</span> <span class="pre">&lt;replacement&gt;)</span></code> to replace in the
parsed output from the model.  String patters are compiled with
<a class="reference external" href="https://docs.python.org/3/library/re.html#re.compile" title="(in Python v3.13)"><code class="xref py py-func docutils literal notranslate"><span class="pre">re.compile()</span></code></a>.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="zensols.lmtask.generate.TextGenerator">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">zensols.lmtask.generate.</span></span><span class="sig-name descname"><span class="pre">TextGenerator</span></span><a class="reference internal" href="../_modules/zensols/lmtask/generate.html#TextGenerator"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.lmtask.generate.TextGenerator" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://plandes.github.io/util/api/zensols.config.html#zensols.config.dictable.Dictable" title="(in Zensols Utilities v1.15.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Dictable</span></code></a></p>
<p>A client facade of a chat-based large language model.</p>
<dl class="py method">
<dt class="sig sig-object py" id="zensols.lmtask.generate.TextGenerator.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zensols.lmtask.generate.TextGenerator.__init__" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zensols.lmtask.generate.TextGenerator.clear">
<span class="sig-name descname"><span class="pre">clear</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/lmtask/generate.html#TextGenerator.clear"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.lmtask.generate.TextGenerator.clear" title="Link to this definition">¶</a></dt>
<dd><p>Clear any model state.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zensols.lmtask.generate.TextGenerator.generate">
<span class="sig-name descname"><span class="pre">generate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">prompt</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/lmtask/generate.html#TextGenerator.generate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.lmtask.generate.TextGenerator.generate" title="Link to this definition">¶</a></dt>
<dd><p>Generate a textual response (usually from a large langauge model).</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="sphinx_autodoc_typehints-type"><a class="reference internal" href="#zensols.lmtask.generate.GeneratorOutput" title="zensols.lmtask.generate.GeneratorOutput"><code class="xref py py-class docutils literal notranslate"><span class="pre">GeneratorOutput</span></code></a></span></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-zensols.lmtask.hf">
<span id="zensols-lmtask-hf-module"></span><h2>zensols.lmtask.hf module<a class="headerlink" href="#module-zensols.lmtask.hf" title="Link to this heading">¶</a></h2>
<p>HuggingFace trainer wrapper.</p>
<dl class="py class">
<dt class="sig sig-object py" id="zensols.lmtask.hf.HFTrainerResource">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">zensols.lmtask.hf.</span></span><span class="sig-name descname"><span class="pre">HFTrainerResource</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model_args</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cache</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">generator_resource</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">peft_config</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/lmtask/hf.html#HFTrainerResource"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.lmtask.hf.HFTrainerResource" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#zensols.lmtask.train.TrainerResource" title="zensols.lmtask.train.TrainerResource"><code class="xref py py-class docutils literal notranslate"><span class="pre">TrainerResource</span></code></a></p>
<p>Uses <a class="reference internal" href="#zensols.lmtask.hf.HuggingFaceTrainer" title="zensols.lmtask.hf.HuggingFaceTrainer"><code class="xref py py-class docutils literal notranslate"><span class="pre">HuggingFaceTrainer</span></code></a> for training the model.</p>
<dl class="py method">
<dt class="sig sig-object py" id="zensols.lmtask.hf.HFTrainerResource.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model_args</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cache</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">generator_resource</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">peft_config</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zensols.lmtask.hf.HFTrainerResource.__init__" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.lmtask.hf.HFTrainerResource.generator_resource">
<span class="sig-name descname"><span class="pre">generator_resource</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#zensols.lmtask.generate.GeneratorResource" title="zensols.lmtask.generate.GeneratorResource"><code class="xref py py-class docutils literal notranslate"><span class="pre">GeneratorResource</span></code></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#zensols.lmtask.hf.HFTrainerResource.generator_resource" title="Link to this definition">¶</a></dt>
<dd><p>The resource used to the source checkpoint.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.lmtask.hf.HFTrainerResource.peft_config">
<span class="sig-name descname"><span class="pre">peft_config</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><code class="xref py py-class docutils literal notranslate"><span class="pre">LoraConfig</span></code></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#zensols.lmtask.hf.HFTrainerResource.peft_config" title="Link to this definition">¶</a></dt>
<dd><p>The Peft low rank adapters configuration.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="zensols.lmtask.hf.HuggingFaceTrainer">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">zensols.lmtask.hf.</span></span><span class="sig-name descname"><span class="pre">HuggingFaceTrainer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">resource</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">train_params</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">eval_params</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">train_source</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">eval_source</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">peft_output_dir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">merged_output_dir</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/lmtask/hf.html#HuggingFaceTrainer"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.lmtask.hf.HuggingFaceTrainer" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#zensols.lmtask.train.Trainer" title="zensols.lmtask.train.Trainer"><code class="xref py py-class docutils literal notranslate"><span class="pre">Trainer</span></code></a></p>
<p>The HuggingFace trainer.</p>
<dl class="py method">
<dt class="sig sig-object py" id="zensols.lmtask.hf.HuggingFaceTrainer.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">resource</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">train_params</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">eval_params</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">train_source</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">eval_source</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">peft_output_dir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">merged_output_dir</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zensols.lmtask.hf.HuggingFaceTrainer.__init__" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</section>
<section id="module-zensols.lmtask.instruct">
<span id="zensols-lmtask-instruct-module"></span><h2>zensols.lmtask.instruct module<a class="headerlink" href="#module-zensols.lmtask.instruct" title="Link to this heading">¶</a></h2>
<p>Task implementations.</p>
<dl class="py class">
<dt class="sig sig-object py" id="zensols.lmtask.instruct.InstructModelTextGenerator">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">zensols.lmtask.instruct.</span></span><span class="sig-name descname"><span class="pre">InstructModelTextGenerator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">resource</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tokenize_params=&lt;factory&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tokenize_decode_params=&lt;factory&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">generate_params=&lt;factory&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">replacements=()</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/lmtask/instruct.html#InstructModelTextGenerator"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.lmtask.instruct.InstructModelTextGenerator" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#zensols.lmtask.generate.ReplaceTextGenerator" title="zensols.lmtask.generate.ReplaceTextGenerator"><code class="xref py py-class docutils literal notranslate"><span class="pre">ReplaceTextGenerator</span></code></a></p>
<p>A generator that uses instruct based models for inference.</p>
<dl class="py method">
<dt class="sig sig-object py" id="zensols.lmtask.instruct.InstructModelTextGenerator.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">resource</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tokenize_params=&lt;factory&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tokenize_decode_params=&lt;factory&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">generate_params=&lt;factory&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">replacements=()</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zensols.lmtask.instruct.InstructModelTextGenerator.__init__" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="zensols.lmtask.instruct.InstructTask">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">zensols.lmtask.instruct.</span></span><span class="sig-name descname"><span class="pre">InstructTask</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">description</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">request_class</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">response_class</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">generator</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">resource</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">train_add_eos=False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">role='You</span> <span class="pre">are</span> <span class="pre">a</span> <span class="pre">helpful</span> <span class="pre">assistant.'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">train_template='###</span> <span class="pre">Question:</span> <span class="pre">{{</span> <span class="pre">instruction</span> <span class="pre">}}\\n###</span> <span class="pre">Answer:</span> <span class="pre">{{</span> <span class="pre">output</span> <span class="pre">}}'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inference_template='{{request.instruction}}'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chat_template_args=&lt;factory&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">apply_chat_template=True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">train_apply_chat_template=False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/lmtask/instruct.html#InstructTask"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.lmtask.instruct.InstructTask" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#zensols.lmtask.generate.GenerateTask" title="zensols.lmtask.generate.GenerateTask"><code class="xref py py-class docutils literal notranslate"><span class="pre">GenerateTask</span></code></a></p>
<p>A task that is resolved using instructions given to the language model.</p>
<p><strong>Important</strong>: If <code class="xref py py-obj docutils literal notranslate"><span class="pre">InstructTaskRequest.model_input</span></code> is non-<code class="docutils literal notranslate"><span class="pre">None</span></code>
that value is used verbatim and <a class="reference internal" href="#zensols.lmtask.instruct.InstructTaskRequest.instruction" title="zensols.lmtask.instruct.InstructTaskRequest.instruction"><code class="xref py py-obj docutils literal notranslate"><span class="pre">InstructTaskRequest.instruction</span></code></a> is
ignored.</p>
<dl class="py method">
<dt class="sig sig-object py" id="zensols.lmtask.instruct.InstructTask.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">description</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">request_class</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">response_class</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">generator</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">resource</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">train_add_eos=False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">role='You</span> <span class="pre">are</span> <span class="pre">a</span> <span class="pre">helpful</span> <span class="pre">assistant.'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">train_template='###</span> <span class="pre">Question:</span> <span class="pre">{{</span> <span class="pre">instruction</span> <span class="pre">}}\\n###</span> <span class="pre">Answer:</span> <span class="pre">{{</span> <span class="pre">output</span> <span class="pre">}}'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inference_template='{{request.instruction}}'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chat_template_args=&lt;factory&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">apply_chat_template=True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">train_apply_chat_template=False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zensols.lmtask.instruct.InstructTask.__init__" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.lmtask.instruct.InstructTask.apply_chat_template">
<span class="sig-name descname"><span class="pre">apply_chat_template</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">True</span></em><a class="headerlink" href="#zensols.lmtask.instruct.InstructTask.apply_chat_template" title="Link to this definition">¶</a></dt>
<dd><p>Whether format the prompt into one that conforms to the model’s instruct
syntax.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.lmtask.instruct.InstructTask.chat_template_args">
<span class="sig-name descname"><span class="pre">chat_template_args</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Dict</span></code></a><span class="pre">[</span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a><span class="pre">,</span> <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code></a><span class="pre">]</span></em><a class="headerlink" href="#zensols.lmtask.instruct.InstructTask.chat_template_args" title="Link to this definition">¶</a></dt>
<dd><p>Arguments given to <code class="docutils literal notranslate"><span class="pre">apply_chat_template</span></code>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.lmtask.instruct.InstructTask.inference_template">
<span class="sig-name descname"><span class="pre">inference_template</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.13)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a><span class="pre">[</span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a><span class="pre">,</span> <a class="reference external" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Path</span></code></a><span class="pre">]</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'{{request.instruction}}'</span></em><a class="headerlink" href="#zensols.lmtask.instruct.InstructTask.inference_template" title="Link to this definition">¶</a></dt>
<dd><p>The instructions given to <code class="xref py py-obj docutils literal notranslate"><span class="pre">generator</span></code>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.lmtask.instruct.InstructTask.role">
<span class="sig-name descname"><span class="pre">role</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'You</span> <span class="pre">are</span> <span class="pre">a</span> <span class="pre">helpful</span> <span class="pre">assistant.'</span></em><a class="headerlink" href="#zensols.lmtask.instruct.InstructTask.role" title="Link to this definition">¶</a></dt>
<dd><p>The role of the chat dialogue.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.lmtask.instruct.InstructTask.train_apply_chat_template">
<span class="sig-name descname"><span class="pre">train_apply_chat_template</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">False</span></em><a class="headerlink" href="#zensols.lmtask.instruct.InstructTask.train_apply_chat_template" title="Link to this definition">¶</a></dt>
<dd><p>Like <a class="reference internal" href="#zensols.lmtask.instruct.InstructTask.apply_chat_template" title="zensols.lmtask.instruct.InstructTask.apply_chat_template"><code class="xref py py-obj docutils literal notranslate"><span class="pre">apply_chat_template</span></code></a>, but whether to apply during training.
If this is <code class="docutils literal notranslate"><span class="pre">False</span></code>, a conversational <code class="docutils literal notranslate"><span class="pre">messages</span></code> with dictionary list is
used instead.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.lmtask.instruct.InstructTask.train_template">
<span class="sig-name descname"><span class="pre">train_template</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.13)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a><span class="pre">[</span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a><span class="pre">,</span> <a class="reference external" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Path</span></code></a><span class="pre">]</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'###</span> <span class="pre">Question:</span> <span class="pre">{{</span> <span class="pre">instruction</span> <span class="pre">}}\n###</span> <span class="pre">Answer:</span> <span class="pre">{{</span> <span class="pre">output</span> <span class="pre">}}'</span></em><a class="headerlink" href="#zensols.lmtask.instruct.InstructTask.train_template" title="Link to this definition">¶</a></dt>
<dd><p>Used to create format the datasets training text <code class="xref py py-obj docutils literal notranslate"><span class="pre">generator</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zensols.lmtask.instruct.InstructTask.write">
<span class="sig-name descname"><span class="pre">write</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">depth=0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">writer=&lt;_io.TextIOWrapper</span> <span class="pre">name='&lt;stdout&gt;'</span> <span class="pre">mode='w'</span> <span class="pre">encoding='utf-8'&gt;</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/lmtask/instruct.html#InstructTask.write"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.lmtask.instruct.InstructTask.write" title="Link to this definition">¶</a></dt>
<dd><p>Write this instance as either a <code class="xref py py-class docutils literal notranslate"><span class="pre">Writable</span></code> or as a
<code class="xref py py-class docutils literal notranslate"><span class="pre">Dictable</span></code>.  If class attribute
<code class="docutils literal notranslate"><span class="pre">_DICTABLE_WRITABLE_DESCENDANTS</span></code> is set as <code class="docutils literal notranslate"><span class="pre">True</span></code>, then use the
<a class="reference internal" href="#zensols.lmtask.instruct.InstructTask.write" title="zensols.lmtask.instruct.InstructTask.write"><code class="xref py py-meth docutils literal notranslate"><span class="pre">write()</span></code></a> method on children instead of writing the generated
dictionary.  Otherwise, write this instance by first creating a <code class="docutils literal notranslate"><span class="pre">dict</span></code>
recursively using <code class="xref py py-meth docutils literal notranslate"><span class="pre">asdict()</span></code>, then formatting the output.</p>
<p>If the attribute <code class="docutils literal notranslate"><span class="pre">_DICTABLE_WRITE_EXCLUDES</span></code> is set, those attributes
are removed from what is written in the <a class="reference internal" href="#zensols.lmtask.instruct.InstructTask.write" title="zensols.lmtask.instruct.InstructTask.write"><code class="xref py py-meth docutils literal notranslate"><span class="pre">write()</span></code></a> method.</p>
<p>Note that this attribute will need to be set in all descendants in the
instance hierarchy since writing the object instance graph is done
recursively.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>depth</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a></span>) – the starting indentation depth</p></li>
<li><p><strong>writer</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/io.html#io.TextIOBase" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">TextIOBase</span></code></a></span>) – the writer to dump the content of this writable</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="zensols.lmtask.instruct.InstructTaskRequest">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">zensols.lmtask.instruct.</span></span><span class="sig-name descname"><span class="pre">InstructTaskRequest</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model_input</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">instruction</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/lmtask/instruct.html#InstructTaskRequest"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.lmtask.instruct.InstructTaskRequest" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#zensols.lmtask.task.TaskRequest" title="zensols.lmtask.task.TaskRequest"><code class="xref py py-class docutils literal notranslate"><span class="pre">TaskRequest</span></code></a></p>
<p>A request that has a query portion to be added to the compiled prompt.</p>
<dl class="py method">
<dt class="sig sig-object py" id="zensols.lmtask.instruct.InstructTaskRequest.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model_input</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">instruction</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zensols.lmtask.instruct.InstructTaskRequest.__init__" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.lmtask.instruct.InstructTaskRequest.instruction">
<span class="sig-name descname"><span class="pre">instruction</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#zensols.lmtask.instruct.InstructTaskRequest.instruction" title="Link to this definition">¶</a></dt>
<dd><p>The instruction given to the model to complete the task.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zensols.lmtask.instruct.InstructTaskRequest.write">
<span class="sig-name descname"><span class="pre">write</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">depth=0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">writer=&lt;_io.TextIOWrapper</span> <span class="pre">name='&lt;stdout&gt;'</span> <span class="pre">mode='w'</span> <span class="pre">encoding='utf-8'&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_instruction=True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/lmtask/instruct.html#InstructTaskRequest.write"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.lmtask.instruct.InstructTaskRequest.write" title="Link to this definition">¶</a></dt>
<dd><p>Write this instance as either a <code class="xref py py-class docutils literal notranslate"><span class="pre">Writable</span></code> or as a
<code class="xref py py-class docutils literal notranslate"><span class="pre">Dictable</span></code>.  If class attribute
<code class="docutils literal notranslate"><span class="pre">_DICTABLE_WRITABLE_DESCENDANTS</span></code> is set as <code class="docutils literal notranslate"><span class="pre">True</span></code>, then use the
<a class="reference internal" href="#zensols.lmtask.instruct.InstructTaskRequest.write" title="zensols.lmtask.instruct.InstructTaskRequest.write"><code class="xref py py-meth docutils literal notranslate"><span class="pre">write()</span></code></a> method on children instead of writing the generated
dictionary.  Otherwise, write this instance by first creating a <code class="docutils literal notranslate"><span class="pre">dict</span></code>
recursively using <code class="xref py py-meth docutils literal notranslate"><span class="pre">asdict()</span></code>, then formatting the output.</p>
<p>If the attribute <code class="docutils literal notranslate"><span class="pre">_DICTABLE_WRITE_EXCLUDES</span></code> is set, those attributes
are removed from what is written in the <a class="reference internal" href="#zensols.lmtask.instruct.InstructTaskRequest.write" title="zensols.lmtask.instruct.InstructTaskRequest.write"><code class="xref py py-meth docutils literal notranslate"><span class="pre">write()</span></code></a> method.</p>
<p>Note that this attribute will need to be set in all descendants in the
instance hierarchy since writing the object instance graph is done
recursively.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>depth</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a></span>) – the starting indentation depth</p></li>
<li><p><strong>writer</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/io.html#io.TextIOBase" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">TextIOBase</span></code></a></span>) – the writer to dump the content of this writable</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="zensols.lmtask.instruct.NShotTaskRequest">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">zensols.lmtask.instruct.</span></span><span class="sig-name descname"><span class="pre">NShotTaskRequest</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model_input</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">instruction</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">examples</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/lmtask/instruct.html#NShotTaskRequest"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.lmtask.instruct.NShotTaskRequest" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#zensols.lmtask.instruct.InstructTaskRequest" title="zensols.lmtask.instruct.InstructTaskRequest"><code class="xref py py-class docutils literal notranslate"><span class="pre">InstructTaskRequest</span></code></a></p>
<p>A request that adds training examples to the prompt.</p>
<dl class="py method">
<dt class="sig sig-object py" id="zensols.lmtask.instruct.NShotTaskRequest.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model_input</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">instruction</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">examples</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zensols.lmtask.instruct.NShotTaskRequest.__init__" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.lmtask.instruct.NShotTaskRequest.examples">
<span class="sig-name descname"><span class="pre">examples</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Tuple" title="(in Python v3.13)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Tuple</span></code></a><span class="pre">[</span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code></a><span class="pre">,</span> <a class="reference external" href="https://docs.python.org/3/library/constants.html#Ellipsis" title="(in Python v3.13)"><code class="xref py py-data docutils literal notranslate"><span class="pre">...</span></code></a><span class="pre">]</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#zensols.lmtask.instruct.NShotTaskRequest.examples" title="Link to this definition">¶</a></dt>
<dd><p>The examples given for N-shot learning.</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-zensols.lmtask.llama">
<span id="zensols-lmtask-llama-module"></span><h2>zensols.lmtask.llama module<a class="headerlink" href="#module-zensols.lmtask.llama" title="Link to this heading">¶</a></h2>
<p>Interactive chat interfaces, which are superset to chat templates.</p>
<dl class="py class">
<dt class="sig sig-object py" id="zensols.lmtask.llama.LlamaGeneratorResource">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">zensols.lmtask.llama.</span></span><span class="sig-name descname"><span class="pre">LlamaGeneratorResource</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_class=&lt;class</span> <span class="pre">'transformers.models.auto.modeling_auto.AutoModelForCausalLM'&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tokenizer_class=&lt;class</span> <span class="pre">'transformers.models.auto.tokenization_auto.AutoTokenizer'&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">peft_model_id=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">peft_model_class=&lt;class</span> <span class="pre">'peft.auto.AutoPeftModelForCausalLM'&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_desc=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">system_role_name='system'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_args=&lt;factory&gt;</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/lmtask/llama.html#LlamaGeneratorResource"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.lmtask.llama.LlamaGeneratorResource" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#zensols.lmtask.generate.GeneratorResource" title="zensols.lmtask.generate.GeneratorResource"><code class="xref py py-class docutils literal notranslate"><span class="pre">GeneratorResource</span></code></a></p>
<p>There are 4 different roles that are supported by Llama text models:</p>
<ul class="simple">
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">system</span></code>: Sets the context in which to interact with the AI model. It</dt><dd><p>typically includes rules, guidelines, or necessary information
that help the model respond effectively.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">user</span></code>: Represents the human interacting with the model. It includes the</dt><dd><p>inputs, commands, and questions to the model.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">ipython</span></code>: A new role introduced in Llama 3.1. Semantically, this role</dt><dd><p>means “tool”. This role is used to mark messages with the
output of a tool call when sent back to the model from the
executor.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">assistant</span></code>: Represents the response generated by the AI model based on</dt><dd><p>the context provided in the system, ipython and user
prompts.</p>
</dd>
</dl>
</li>
</ul>
<dl class="py method">
<dt class="sig sig-object py" id="zensols.lmtask.llama.LlamaGeneratorResource.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_class=&lt;class</span> <span class="pre">'transformers.models.auto.modeling_auto.AutoModelForCausalLM'&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tokenizer_class=&lt;class</span> <span class="pre">'transformers.models.auto.tokenization_auto.AutoTokenizer'&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">peft_model_id=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">peft_model_class=&lt;class</span> <span class="pre">'peft.auto.AutoPeftModelForCausalLM'&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_desc=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">system_role_name='system'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_args=&lt;factory&gt;</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zensols.lmtask.llama.LlamaGeneratorResource.__init__" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zensols.lmtask.llama.LlamaGeneratorResource.configure_model">
<span class="sig-name descname"><span class="pre">configure_model</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/lmtask/llama.html#LlamaGeneratorResource.configure_model"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.lmtask.llama.LlamaGeneratorResource.configure_model" title="Link to this definition">¶</a></dt>
<dd><p>Make any necessary updates programatically.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zensols.lmtask.llama.LlamaGeneratorResource.configure_tokenizer">
<span class="sig-name descname"><span class="pre">configure_tokenizer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tokenizer</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/lmtask/llama.html#LlamaGeneratorResource.configure_tokenizer"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.lmtask.llama.LlamaGeneratorResource.configure_tokenizer" title="Link to this definition">¶</a></dt>
<dd><p>Make any necessary updates programatically (i.e. set special
tokens).</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-zensols.lmtask.task">
<span id="zensols-lmtask-task-module"></span><h2>zensols.lmtask.task module<a class="headerlink" href="#module-zensols.lmtask.task" title="Link to this heading">¶</a></h2>
<p>Task implementations.</p>
<dl class="py class">
<dt class="sig sig-object py" id="zensols.lmtask.task.JSONTaskResponse">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">zensols.lmtask.task.</span></span><span class="sig-name descname"><span class="pre">JSONTaskResponse</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">request</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_output_raw</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_output</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">robust_json</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/lmtask/task.html#JSONTaskResponse"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.lmtask.task.JSONTaskResponse" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#zensols.lmtask.task.TaskResponse" title="zensols.lmtask.task.TaskResponse"><code class="xref py py-class docutils literal notranslate"><span class="pre">TaskResponse</span></code></a></p>
<p>A task that parses the responses as JSON.  The JSON is parsed as much as
possible and does not raise errors when the json is incomplete.</p>
<dl class="py method">
<dt class="sig sig-object py" id="zensols.lmtask.task.JSONTaskResponse.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">request</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_output_raw</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_output</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">robust_json</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zensols.lmtask.task.JSONTaskResponse.__init__" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="zensols.lmtask.task.JSONTaskResponse.any_failures">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">any_failures</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></em><a class="headerlink" href="#zensols.lmtask.task.JSONTaskResponse.any_failures" title="Link to this definition">¶</a></dt>
<dd><p>Whether any failures were created during JSON parsing.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="zensols.lmtask.task.JSONTaskResponse.model_output_json">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">model_output_json</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Failure</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><a class="headerlink" href="#zensols.lmtask.task.JSONTaskResponse.model_output_json" title="Link to this definition">¶</a></dt>
<dd><p>The <code class="xref py py-obj docutils literal notranslate"><span class="pre">response</span></code> attribute parsed as JSON.</p>
<dl class="field-list simple">
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>json.decoder.JSONDecodeError</strong> – if the JSON failed to parse</p>
</dd>
<dt class="field-even">See<span class="colon">:</span></dt>
<dd class="field-even"><p>obj:<cite>robust_json</cite></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.lmtask.task.JSONTaskResponse.robust_json">
<span class="sig-name descname"><span class="pre">robust_json</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">bool</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">True</span></em><a class="headerlink" href="#zensols.lmtask.task.JSONTaskResponse.robust_json" title="Link to this definition">¶</a></dt>
<dd><p>Whether to return <a class="reference external" href="https://plandes.github.io/util/api/zensols.util.html#zensols.util.fail.Failure" title="(in Zensols Utilities v1.15.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Failure</span></code></a> from
<a class="reference internal" href="#zensols.lmtask.task.JSONTaskResponse.model_output_json" title="zensols.lmtask.task.JSONTaskResponse.model_output_json"><code class="xref py py-obj docutils literal notranslate"><span class="pre">model_output_json</span></code></a> instead of raising from parse failures.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zensols.lmtask.task.JSONTaskResponse.write">
<span class="sig-name descname"><span class="pre">write</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">depth=0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">writer=&lt;_io.TextIOWrapper</span> <span class="pre">name='&lt;stdout&gt;'</span> <span class="pre">mode='w'</span> <span class="pre">encoding='utf-8'&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_request=False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_model_output=False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_json=True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/lmtask/task.html#JSONTaskResponse.write"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.lmtask.task.JSONTaskResponse.write" title="Link to this definition">¶</a></dt>
<dd><p>Write this instance as either a <code class="xref py py-class docutils literal notranslate"><span class="pre">Writable</span></code> or as a
<code class="xref py py-class docutils literal notranslate"><span class="pre">Dictable</span></code>.  If class attribute
<code class="docutils literal notranslate"><span class="pre">_DICTABLE_WRITABLE_DESCENDANTS</span></code> is set as <code class="docutils literal notranslate"><span class="pre">True</span></code>, then use the
<a class="reference internal" href="#zensols.lmtask.task.JSONTaskResponse.write" title="zensols.lmtask.task.JSONTaskResponse.write"><code class="xref py py-meth docutils literal notranslate"><span class="pre">write()</span></code></a> method on children instead of writing the generated
dictionary.  Otherwise, write this instance by first creating a <code class="docutils literal notranslate"><span class="pre">dict</span></code>
recursively using <code class="xref py py-meth docutils literal notranslate"><span class="pre">asdict()</span></code>, then formatting the output.</p>
<p>If the attribute <code class="docutils literal notranslate"><span class="pre">_DICTABLE_WRITE_EXCLUDES</span></code> is set, those attributes
are removed from what is written in the <a class="reference internal" href="#zensols.lmtask.task.JSONTaskResponse.write" title="zensols.lmtask.task.JSONTaskResponse.write"><code class="xref py py-meth docutils literal notranslate"><span class="pre">write()</span></code></a> method.</p>
<p>Note that this attribute will need to be set in all descendants in the
instance hierarchy since writing the object instance graph is done
recursively.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>depth</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a></span>) – the starting indentation depth</p></li>
<li><p><strong>writer</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/io.html#io.TextIOBase" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">TextIOBase</span></code></a></span>) – the writer to dump the content of this writable</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="zensols.lmtask.task.Task">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">zensols.lmtask.task.</span></span><span class="sig-name descname"><span class="pre">Task</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">description</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">request_class</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">response_class</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/lmtask/task.html#Task"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.lmtask.task.Task" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://plandes.github.io/util/api/zensols.config.html#zensols.config.dictable.Dictable" title="(in Zensols Utilities v1.15.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Dictable</span></code></a></p>
<p>Subclasses turn a prompt and query into a response from an LLM.</p>
<dl class="py method">
<dt class="sig sig-object py" id="zensols.lmtask.task.Task.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">description</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">request_class</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">response_class</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zensols.lmtask.task.Task.__init__" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zensols.lmtask.task.Task.clear">
<span class="sig-name descname"><span class="pre">clear</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/lmtask/task.html#Task.clear"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.lmtask.task.Task.clear" title="Link to this definition">¶</a></dt>
<dd><p>Clear any generator state or cache.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.lmtask.task.Task.description">
<span class="sig-name descname"><span class="pre">description</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></em><a class="headerlink" href="#zensols.lmtask.task.Task.description" title="Link to this definition">¶</a></dt>
<dd><p>A description of the task.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.lmtask.task.Task.name">
<span class="sig-name descname"><span class="pre">name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></em><a class="headerlink" href="#zensols.lmtask.task.Task.name" title="Link to this definition">¶</a></dt>
<dd><p>The name of the task.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zensols.lmtask.task.Task.prepare_dataset">
<span class="sig-name descname"><span class="pre">prepare_dataset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ds</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">factory</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/lmtask/task.html#Task.prepare_dataset"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.lmtask.task.Task.prepare_dataset" title="Link to this definition">¶</a></dt>
<dd><p>Massage the any data for training necessary to train this task.  This
might involve apply templates and/or adding terminating tokens.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">Dataset</span></code></span></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zensols.lmtask.task.Task.prepare_request">
<span class="sig-name descname"><span class="pre">prepare_request</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">request</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/lmtask/task.html#Task.prepare_request"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.lmtask.task.Task.prepare_request" title="Link to this definition">¶</a></dt>
<dd><p>Return a request with the contents populated with a formatted
prompt.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="sphinx_autodoc_typehints-type"><a class="reference internal" href="#zensols.lmtask.task.TaskRequest" title="zensols.lmtask.task.TaskRequest"><code class="xref py py-class docutils literal notranslate"><span class="pre">TaskRequest</span></code></a></span></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zensols.lmtask.task.Task.process">
<span class="sig-name descname"><span class="pre">process</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">request</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/lmtask/task.html#Task.process"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.lmtask.task.Task.process" title="Link to this definition">¶</a></dt>
<dd><p>Invoke the <code class="xref py py-obj docutils literal notranslate"><span class="pre">generator</span></code> to query the LLM, then return a JSON
formatted data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>query</strong> – a query that is phrased with the assumption that JSON is
given as a response</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><span class="sphinx_autodoc_typehints-type"><a class="reference internal" href="#zensols.lmtask.task.TaskResponse" title="zensols.lmtask.task.TaskResponse"><code class="xref py py-class docutils literal notranslate"><span class="pre">TaskResponse</span></code></a></span></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.lmtask.task.Task.request_class">
<span class="sig-name descname"><span class="pre">request_class</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Type" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Type</span></code></a><span class="pre">[</span><a class="reference internal" href="#zensols.lmtask.task.TaskRequest" title="zensols.lmtask.task.TaskRequest"><code class="xref py py-class docutils literal notranslate"><span class="pre">TaskRequest</span></code></a><span class="pre">]</span></em><a class="headerlink" href="#zensols.lmtask.task.Task.request_class" title="Link to this definition">¶</a></dt>
<dd><p>The response data.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.lmtask.task.Task.response_class">
<span class="sig-name descname"><span class="pre">response_class</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Type" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Type</span></code></a><span class="pre">[</span><a class="reference internal" href="#zensols.lmtask.task.TaskResponse" title="zensols.lmtask.task.TaskResponse"><code class="xref py py-class docutils literal notranslate"><span class="pre">TaskResponse</span></code></a><span class="pre">]</span></em><a class="headerlink" href="#zensols.lmtask.task.Task.response_class" title="Link to this definition">¶</a></dt>
<dd><p>The response data.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="zensols.lmtask.task.TaskDatasetFactory">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">zensols.lmtask.task.</span></span><span class="sig-name descname"><span class="pre">TaskDatasetFactory</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">task</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">text_field</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'text'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">messages_field</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'messages'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">eval_field</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'text'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/lmtask/task.html#TaskDatasetFactory"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.lmtask.task.TaskDatasetFactory" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://plandes.github.io/util/api/zensols.config.html#zensols.config.dictable.Dictable" title="(in Zensols Utilities v1.15.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Dictable</span></code></a></p>
<p>Subclasses create a dataframes used by <a class="reference internal" href="#zensols.lmtask.train.Trainer" title="zensols.lmtask.train.Trainer"><code class="xref py py-class docutils literal notranslate"><span class="pre">Trainer</span></code></a> and optionally
does post processing (i.e. filtering and mapping).</p>
<dl class="py method">
<dt class="sig sig-object py" id="zensols.lmtask.task.TaskDatasetFactory.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">task</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">text_field</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'text'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">messages_field</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'messages'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">eval_field</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'text'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zensols.lmtask.task.TaskDatasetFactory.__init__" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zensols.lmtask.task.TaskDatasetFactory.create">
<span class="sig-name descname"><span class="pre">create</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/lmtask/task.html#TaskDatasetFactory.create"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.lmtask.task.TaskDatasetFactory.create" title="Link to this definition">¶</a></dt>
<dd><p>Create a new dataset based on <code class="xref py py-obj docutils literal notranslate"><span class="pre">source</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">Dataset</span></code></span></p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>the new dataset after modification by <code class="xref py py-obj docutils literal notranslate"><span class="pre">post_process</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.lmtask.task.TaskDatasetFactory.eval_field">
<span class="sig-name descname"><span class="pre">eval_field</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'text'</span></em><a class="headerlink" href="#zensols.lmtask.task.TaskDatasetFactory.eval_field" title="Link to this definition">¶</a></dt>
<dd><p>The field used for comparison with the the evaluation dataset.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.lmtask.task.TaskDatasetFactory.messages_field">
<span class="sig-name descname"><span class="pre">messages_field</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'messages'</span></em><a class="headerlink" href="#zensols.lmtask.task.TaskDatasetFactory.messages_field" title="Link to this definition">¶</a></dt>
<dd><p>The target conversational field used by the trainer.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.lmtask.task.TaskDatasetFactory.task">
<span class="sig-name descname"><span class="pre">task</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#zensols.lmtask.task.Task" title="zensols.lmtask.task.Task"><code class="xref py py-class docutils literal notranslate"><span class="pre">Task</span></code></a></em><a class="headerlink" href="#zensols.lmtask.task.TaskDatasetFactory.task" title="Link to this definition">¶</a></dt>
<dd><p>The task that helps format text in datasets.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.lmtask.task.TaskDatasetFactory.text_field">
<span class="sig-name descname"><span class="pre">text_field</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'text'</span></em><a class="headerlink" href="#zensols.lmtask.task.TaskDatasetFactory.text_field" title="Link to this definition">¶</a></dt>
<dd><p>The target text field used by the trainer.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zensols.lmtask.task.TaskDatasetFactory.write">
<span class="sig-name descname"><span class="pre">write</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">depth=0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">writer=&lt;_io.TextIOWrapper</span> <span class="pre">name='&lt;stdout&gt;'</span> <span class="pre">mode='w'</span> <span class="pre">encoding='utf-8'&gt;</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/lmtask/task.html#TaskDatasetFactory.write"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.lmtask.task.TaskDatasetFactory.write" title="Link to this definition">¶</a></dt>
<dd><p>Write this instance as either a <code class="xref py py-class docutils literal notranslate"><span class="pre">Writable</span></code> or as a
<code class="xref py py-class docutils literal notranslate"><span class="pre">Dictable</span></code>.  If class attribute
<code class="docutils literal notranslate"><span class="pre">_DICTABLE_WRITABLE_DESCENDANTS</span></code> is set as <code class="docutils literal notranslate"><span class="pre">True</span></code>, then use the
<a class="reference internal" href="#zensols.lmtask.task.TaskDatasetFactory.write" title="zensols.lmtask.task.TaskDatasetFactory.write"><code class="xref py py-meth docutils literal notranslate"><span class="pre">write()</span></code></a> method on children instead of writing the generated
dictionary.  Otherwise, write this instance by first creating a <code class="docutils literal notranslate"><span class="pre">dict</span></code>
recursively using <code class="xref py py-meth docutils literal notranslate"><span class="pre">asdict()</span></code>, then formatting the output.</p>
<p>If the attribute <code class="docutils literal notranslate"><span class="pre">_DICTABLE_WRITE_EXCLUDES</span></code> is set, those attributes
are removed from what is written in the <a class="reference internal" href="#zensols.lmtask.task.TaskDatasetFactory.write" title="zensols.lmtask.task.TaskDatasetFactory.write"><code class="xref py py-meth docutils literal notranslate"><span class="pre">write()</span></code></a> method.</p>
<p>Note that this attribute will need to be set in all descendants in the
instance hierarchy since writing the object instance graph is done
recursively.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>depth</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a></span>) – the starting indentation depth</p></li>
<li><p><strong>writer</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/io.html#io.TextIOBase" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">TextIOBase</span></code></a></span>) – the writer to dump the content of this writable</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="zensols.lmtask.task.TaskDatasetFactoryError">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">zensols.lmtask.task.</span></span><span class="sig-name descname"><span class="pre">TaskDatasetFactoryError</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">message</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prompt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/lmtask/task.html#TaskDatasetFactoryError"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.lmtask.task.TaskDatasetFactoryError" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#zensols.lmtask.task.TaskError" title="zensols.lmtask.task.TaskError"><code class="xref py py-class docutils literal notranslate"><span class="pre">TaskError</span></code></a></p>
<p>Raised when <a class="reference internal" href="#zensols.lmtask.task.TaskDatasetFactory" title="zensols.lmtask.task.TaskDatasetFactory"><code class="xref py py-class docutils literal notranslate"><span class="pre">TaskDatasetFactory</span></code></a> instances can not create
datasets.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.lmtask.task.TaskDatasetFactoryError.__module__">
<span class="sig-name descname"><span class="pre">__module__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'zensols.lmtask.task'</span></em><a class="headerlink" href="#zensols.lmtask.task.TaskDatasetFactoryError.__module__" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="zensols.lmtask.task.TaskError">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">zensols.lmtask.task.</span></span><span class="sig-name descname"><span class="pre">TaskError</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">message</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prompt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/lmtask/task.html#TaskError"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.lmtask.task.TaskError" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://plandes.github.io/util/api/zensols.util.html#zensols.util.fail.APIError" title="(in Zensols Utilities v1.15.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">APIError</span></code></a></p>
<p>Raised for any LLM specific error in this API.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.lmtask.task.TaskError.__annotations__">
<span class="sig-name descname"><span class="pre">__annotations__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#zensols.lmtask.task.TaskError.__annotations__" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zensols.lmtask.task.TaskError.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">message</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prompt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/lmtask/task.html#TaskError.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.lmtask.task.TaskError.__init__" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.lmtask.task.TaskError.__module__">
<span class="sig-name descname"><span class="pre">__module__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'zensols.lmtask.task'</span></em><a class="headerlink" href="#zensols.lmtask.task.TaskError.__module__" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="zensols.lmtask.task.TaskFactory">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">zensols.lmtask.task.</span></span><span class="sig-name descname"><span class="pre">TaskFactory</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config_factory</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_task_pattern</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/lmtask/task.html#TaskFactory"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.lmtask.task.TaskFactory" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://plandes.github.io/util/api/zensols.config.html#zensols.config.dictable.Dictable" title="(in Zensols Utilities v1.15.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Dictable</span></code></a></p>
<p>Creates instances of <a class="reference internal" href="#zensols.lmtask.task.Task" title="zensols.lmtask.task.Task"><code class="xref py py-class docutils literal notranslate"><span class="pre">Task</span></code></a> using <a class="reference internal" href="#zensols.lmtask.task.TaskFactory.create" title="zensols.lmtask.task.TaskFactory.create"><code class="xref py py-meth docutils literal notranslate"><span class="pre">create()</span></code></a>.</p>
<dl class="py method">
<dt class="sig sig-object py" id="zensols.lmtask.task.TaskFactory.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config_factory</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_task_pattern</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zensols.lmtask.task.TaskFactory.__init__" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.lmtask.task.TaskFactory.config_factory">
<span class="sig-name descname"><span class="pre">config_factory</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://plandes.github.io/util/api/zensols.config.html#zensols.config.facbase.ConfigFactory" title="(in Zensols Utilities v1.15.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ConfigFactory</span></code></a></em><a class="headerlink" href="#zensols.lmtask.task.TaskFactory.config_factory" title="Link to this definition">¶</a></dt>
<dd><p>The factory that creates tasks.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zensols.lmtask.task.TaskFactory.create">
<span class="sig-name descname"><span class="pre">create</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/lmtask/task.html#TaskFactory.create"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.lmtask.task.TaskFactory.create" title="Link to this definition">¶</a></dt>
<dd><p>Create a new instance of a task with <code class="docutils literal notranslate"><span class="pre">name</span></code> per the app config.</p>
<dl class="field-list simple">
<dt class="field-odd">See<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#zensols.lmtask.task.TaskFactory.task_names" title="zensols.lmtask.task.TaskFactory.task_names"><code class="xref py py-meth docutils literal notranslate"><span class="pre">task_names()</span></code></a></p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><span class="sphinx_autodoc_typehints-type"><a class="reference internal" href="#zensols.lmtask.task.Task" title="zensols.lmtask.task.Task"><code class="xref py py-class docutils literal notranslate"><span class="pre">Task</span></code></a></span></p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="zensols.lmtask.task.TaskFactory.task_names">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">task_names</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Set</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#zensols.lmtask.task.TaskFactory.task_names" title="Link to this definition">¶</a></dt>
<dd><p>The names of the tasks available to create with <a class="reference internal" href="#zensols.lmtask.task.TaskFactory.create" title="zensols.lmtask.task.TaskFactory.create"><code class="xref py py-meth docutils literal notranslate"><span class="pre">create()</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zensols.lmtask.task.TaskFactory.write">
<span class="sig-name descname"><span class="pre">write</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">depth=0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">writer=&lt;_io.TextIOWrapper</span> <span class="pre">name='&lt;stdout&gt;'</span> <span class="pre">mode='w'</span> <span class="pre">encoding='utf-8'&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">short=False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/lmtask/task.html#TaskFactory.write"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.lmtask.task.TaskFactory.write" title="Link to this definition">¶</a></dt>
<dd><p>Write this instance as either a <code class="xref py py-class docutils literal notranslate"><span class="pre">Writable</span></code> or as a
<code class="xref py py-class docutils literal notranslate"><span class="pre">Dictable</span></code>.  If class attribute
<code class="docutils literal notranslate"><span class="pre">_DICTABLE_WRITABLE_DESCENDANTS</span></code> is set as <code class="docutils literal notranslate"><span class="pre">True</span></code>, then use the
<a class="reference internal" href="#zensols.lmtask.task.TaskFactory.write" title="zensols.lmtask.task.TaskFactory.write"><code class="xref py py-meth docutils literal notranslate"><span class="pre">write()</span></code></a> method on children instead of writing the generated
dictionary.  Otherwise, write this instance by first creating a <code class="docutils literal notranslate"><span class="pre">dict</span></code>
recursively using <code class="xref py py-meth docutils literal notranslate"><span class="pre">asdict()</span></code>, then formatting the output.</p>
<p>If the attribute <code class="docutils literal notranslate"><span class="pre">_DICTABLE_WRITE_EXCLUDES</span></code> is set, those attributes
are removed from what is written in the <a class="reference internal" href="#zensols.lmtask.task.TaskFactory.write" title="zensols.lmtask.task.TaskFactory.write"><code class="xref py py-meth docutils literal notranslate"><span class="pre">write()</span></code></a> method.</p>
<p>Note that this attribute will need to be set in all descendants in the
instance hierarchy since writing the object instance graph is done
recursively.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>depth</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a></span>) – the starting indentation depth</p></li>
<li><p><strong>writer</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/io.html#io.TextIOBase" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">TextIOBase</span></code></a></span>) – the writer to dump the content of this writable</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="zensols.lmtask.task.TaskObject">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">zensols.lmtask.task.</span></span><span class="sig-name descname"><span class="pre">TaskObject</span></span><a class="reference internal" href="../_modules/zensols/lmtask/task.html#TaskObject"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.lmtask.task.TaskObject" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://plandes.github.io/util/api/zensols.persist.html#zensols.persist.annotation.PersistableContainer" title="(in Zensols Utilities v1.15.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">PersistableContainer</span></code></a>, <a class="reference external" href="https://plandes.github.io/util/api/zensols.config.html#zensols.config.dictable.Dictable" title="(in Zensols Utilities v1.15.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Dictable</span></code></a></p>
<p>Base class for task requests and responses.</p>
<dl class="py method">
<dt class="sig sig-object py" id="zensols.lmtask.task.TaskObject.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zensols.lmtask.task.TaskObject.__init__" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="zensols.lmtask.task.TaskRequest">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">zensols.lmtask.task.</span></span><span class="sig-name descname"><span class="pre">TaskRequest</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model_input</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/lmtask/task.html#TaskRequest"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.lmtask.task.TaskRequest" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#zensols.lmtask.task.TaskObject" title="zensols.lmtask.task.TaskObject"><code class="xref py py-class docutils literal notranslate"><span class="pre">TaskObject</span></code></a></p>
<p>The input request to the LLM via <a class="reference internal" href="#zensols.lmtask.task.Task.process" title="zensols.lmtask.task.Task.process"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Task.process()</span></code></a>.  In most cases,
obj:<cite>model_input</cite> can be used to skip the prompt compilation step.</p>
<dl class="py method">
<dt class="sig sig-object py" id="zensols.lmtask.task.TaskRequest.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model_input</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zensols.lmtask.task.TaskRequest.__init__" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.lmtask.task.TaskRequest.model_input">
<span class="sig-name descname"><span class="pre">model_input</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#zensols.lmtask.task.TaskRequest.model_input" title="Link to this definition">¶</a></dt>
<dd><p>The text given verbatim to the model.  This is some combination of both
<code class="xref py py-obj docutils literal notranslate"><span class="pre">querty</span></code> and <code class="xref py py-obj docutils literal notranslate"><span class="pre">prompt</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zensols.lmtask.task.TaskRequest.write">
<span class="sig-name descname"><span class="pre">write</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">depth=0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">writer=&lt;_io.TextIOWrapper</span> <span class="pre">name='&lt;stdout&gt;'</span> <span class="pre">mode='w'</span> <span class="pre">encoding='utf-8'&gt;</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/lmtask/task.html#TaskRequest.write"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.lmtask.task.TaskRequest.write" title="Link to this definition">¶</a></dt>
<dd><p>Write this instance as either a <code class="xref py py-class docutils literal notranslate"><span class="pre">Writable</span></code> or as a
<code class="xref py py-class docutils literal notranslate"><span class="pre">Dictable</span></code>.  If class attribute
<code class="docutils literal notranslate"><span class="pre">_DICTABLE_WRITABLE_DESCENDANTS</span></code> is set as <code class="docutils literal notranslate"><span class="pre">True</span></code>, then use the
<a class="reference internal" href="#zensols.lmtask.task.TaskRequest.write" title="zensols.lmtask.task.TaskRequest.write"><code class="xref py py-meth docutils literal notranslate"><span class="pre">write()</span></code></a> method on children instead of writing the generated
dictionary.  Otherwise, write this instance by first creating a <code class="docutils literal notranslate"><span class="pre">dict</span></code>
recursively using <code class="xref py py-meth docutils literal notranslate"><span class="pre">asdict()</span></code>, then formatting the output.</p>
<p>If the attribute <code class="docutils literal notranslate"><span class="pre">_DICTABLE_WRITE_EXCLUDES</span></code> is set, those attributes
are removed from what is written in the <a class="reference internal" href="#zensols.lmtask.task.TaskRequest.write" title="zensols.lmtask.task.TaskRequest.write"><code class="xref py py-meth docutils literal notranslate"><span class="pre">write()</span></code></a> method.</p>
<p>Note that this attribute will need to be set in all descendants in the
instance hierarchy since writing the object instance graph is done
recursively.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>depth</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a></span>) – the starting indentation depth</p></li>
<li><p><strong>writer</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/io.html#io.TextIOBase" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">TextIOBase</span></code></a></span>) – the writer to dump the content of this writable</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="zensols.lmtask.task.TaskResponse">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">zensols.lmtask.task.</span></span><span class="sig-name descname"><span class="pre">TaskResponse</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">request</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_output_raw</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_output</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/lmtask/task.html#TaskResponse"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.lmtask.task.TaskResponse" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#zensols.lmtask.task.TaskObject" title="zensols.lmtask.task.TaskObject"><code class="xref py py-class docutils literal notranslate"><span class="pre">TaskObject</span></code></a></p>
<p>The happy-path response given by <a class="reference internal" href="#zensols.lmtask.task.Task" title="zensols.lmtask.task.Task"><code class="xref py py-class docutils literal notranslate"><span class="pre">Task</span></code></a>.</p>
<dl class="py method">
<dt class="sig sig-object py" id="zensols.lmtask.task.TaskResponse.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">request</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_output_raw</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_output</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zensols.lmtask.task.TaskResponse.__init__" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.lmtask.task.TaskResponse.model_output">
<span class="sig-name descname"><span class="pre">model_output</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#zensols.lmtask.task.TaskResponse.model_output" title="Link to this definition">¶</a></dt>
<dd><p>This task instance’s parsed response text given by the model.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.lmtask.task.TaskResponse.model_output_raw">
<span class="sig-name descname"><span class="pre">model_output_raw</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#zensols.lmtask.task.TaskResponse.model_output_raw" title="Link to this definition">¶</a></dt>
<dd><p>The model output verbatim.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.lmtask.task.TaskResponse.request">
<span class="sig-name descname"><span class="pre">request</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">TaskRequest</span></em><a class="headerlink" href="#zensols.lmtask.task.TaskResponse.request" title="Link to this definition">¶</a></dt>
<dd><p>The request used to generated this response.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zensols.lmtask.task.TaskResponse.write">
<span class="sig-name descname"><span class="pre">write</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">depth=0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">writer=&lt;_io.TextIOWrapper</span> <span class="pre">name='&lt;stdout&gt;'</span> <span class="pre">mode='w'</span> <span class="pre">encoding='utf-8'&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_request=False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_model_output=True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_model_output_raw=False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/lmtask/task.html#TaskResponse.write"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.lmtask.task.TaskResponse.write" title="Link to this definition">¶</a></dt>
<dd><p>Write this instance as either a <code class="xref py py-class docutils literal notranslate"><span class="pre">Writable</span></code> or as a
<code class="xref py py-class docutils literal notranslate"><span class="pre">Dictable</span></code>.  If class attribute
<code class="docutils literal notranslate"><span class="pre">_DICTABLE_WRITABLE_DESCENDANTS</span></code> is set as <code class="docutils literal notranslate"><span class="pre">True</span></code>, then use the
<a class="reference internal" href="#zensols.lmtask.task.TaskResponse.write" title="zensols.lmtask.task.TaskResponse.write"><code class="xref py py-meth docutils literal notranslate"><span class="pre">write()</span></code></a> method on children instead of writing the generated
dictionary.  Otherwise, write this instance by first creating a <code class="docutils literal notranslate"><span class="pre">dict</span></code>
recursively using <code class="xref py py-meth docutils literal notranslate"><span class="pre">asdict()</span></code>, then formatting the output.</p>
<p>If the attribute <code class="docutils literal notranslate"><span class="pre">_DICTABLE_WRITE_EXCLUDES</span></code> is set, those attributes
are removed from what is written in the <a class="reference internal" href="#zensols.lmtask.task.TaskResponse.write" title="zensols.lmtask.task.TaskResponse.write"><code class="xref py py-meth docutils literal notranslate"><span class="pre">write()</span></code></a> method.</p>
<p>Note that this attribute will need to be set in all descendants in the
instance hierarchy since writing the object instance graph is done
recursively.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>depth</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a></span>) – the starting indentation depth</p></li>
<li><p><strong>writer</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/io.html#io.TextIOBase" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">TextIOBase</span></code></a></span>) – the writer to dump the content of this writable</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-zensols.lmtask.train">
<span id="zensols-lmtask-train-module"></span><h2>zensols.lmtask.train module<a class="headerlink" href="#module-zensols.lmtask.train" title="Link to this heading">¶</a></h2>
<p>Continued Pretraining and supervised fine-tuning training.</p>
<dl class="py class">
<dt class="sig sig-object py" id="zensols.lmtask.train.ModelResult">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">zensols.lmtask.train.</span></span><span class="sig-name descname"><span class="pre">ModelResult</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">train_output</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">train_params</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/lmtask/train.html#ModelResult"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.lmtask.train.ModelResult" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://plandes.github.io/util/api/zensols.config.html#zensols.config.dictable.Dictable" title="(in Zensols Utilities v1.15.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Dictable</span></code></a></p>
<p>The trained model config, location and configuration used to train it.</p>
<dl class="py method">
<dt class="sig sig-object py" id="zensols.lmtask.train.ModelResult.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">train_output</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">train_params</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zensols.lmtask.train.ModelResult.__init__" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.lmtask.train.ModelResult.config">
<span class="sig-name descname"><span class="pre">config</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://plandes.github.io/util/api/zensols.config.html#zensols.config.configbase.Configurable" title="(in Zensols Utilities v1.15.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Configurable</span></code></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#zensols.lmtask.train.ModelResult.config" title="Link to this definition">¶</a></dt>
<dd><p>The application configuration used to configure the trainer.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="zensols.lmtask.train.ModelResult.global_step">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">global_step</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></em><a class="headerlink" href="#zensols.lmtask.train.ModelResult.global_step" title="Link to this definition">¶</a></dt>
<dd><p>The global step from <a class="reference internal" href="#zensols.lmtask.train.ModelResult.train_output" title="zensols.lmtask.train.ModelResult.train_output"><code class="xref py py-obj docutils literal notranslate"><span class="pre">train_output</span></code></a>.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="zensols.lmtask.train.ModelResult.metrics">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">metrics</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.13)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#zensols.lmtask.train.ModelResult.metrics" title="Link to this definition">¶</a></dt>
<dd><p>Training metrics from <a class="reference internal" href="#zensols.lmtask.train.ModelResult.train_output" title="zensols.lmtask.train.ModelResult.train_output"><code class="xref py py-obj docutils literal notranslate"><span class="pre">train_output</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.lmtask.train.ModelResult.output_dir">
<span class="sig-name descname"><span class="pre">output_dir</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Path</span></code></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#zensols.lmtask.train.ModelResult.output_dir" title="Link to this definition">¶</a></dt>
<dd><p>The directory of the models checkpoints.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.lmtask.train.ModelResult.train_output">
<span class="sig-name descname"><span class="pre">train_output</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><code class="xref py py-class docutils literal notranslate"><span class="pre">TrainOutput</span></code></em><a class="headerlink" href="#zensols.lmtask.train.ModelResult.train_output" title="Link to this definition">¶</a></dt>
<dd><p>The output returned from the trainer.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.lmtask.train.ModelResult.train_params">
<span class="sig-name descname"><span class="pre">train_params</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Dict</span></code></a><span class="pre">[</span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a><span class="pre">,</span> <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code></a><span class="pre">]</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#zensols.lmtask.train.ModelResult.train_params" title="Link to this definition">¶</a></dt>
<dd><p>The training parameters used to configure the trainer.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="zensols.lmtask.train.ModelResult.training_loss">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">training_loss</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a></em><a class="headerlink" href="#zensols.lmtask.train.ModelResult.training_loss" title="Link to this definition">¶</a></dt>
<dd><p>The training loss from <a class="reference internal" href="#zensols.lmtask.train.ModelResult.train_output" title="zensols.lmtask.train.ModelResult.train_output"><code class="xref py py-obj docutils literal notranslate"><span class="pre">train_output</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zensols.lmtask.train.ModelResult.write">
<span class="sig-name descname"><span class="pre">write</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">depth=0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">writer=&lt;_io.TextIOWrapper</span> <span class="pre">name='&lt;stdout&gt;'</span> <span class="pre">mode='w'</span> <span class="pre">encoding='utf-8'&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_training_arguments=False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_config=False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/lmtask/train.html#ModelResult.write"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.lmtask.train.ModelResult.write" title="Link to this definition">¶</a></dt>
<dd><p>Write this instance as either a <code class="xref py py-class docutils literal notranslate"><span class="pre">Writable</span></code> or as a
<code class="xref py py-class docutils literal notranslate"><span class="pre">Dictable</span></code>.  If class attribute
<code class="docutils literal notranslate"><span class="pre">_DICTABLE_WRITABLE_DESCENDANTS</span></code> is set as <code class="docutils literal notranslate"><span class="pre">True</span></code>, then use the
<a class="reference internal" href="#zensols.lmtask.train.ModelResult.write" title="zensols.lmtask.train.ModelResult.write"><code class="xref py py-meth docutils literal notranslate"><span class="pre">write()</span></code></a> method on children instead of writing the generated
dictionary.  Otherwise, write this instance by first creating a <code class="docutils literal notranslate"><span class="pre">dict</span></code>
recursively using <code class="xref py py-meth docutils literal notranslate"><span class="pre">asdict()</span></code>, then formatting the output.</p>
<p>If the attribute <code class="docutils literal notranslate"><span class="pre">_DICTABLE_WRITE_EXCLUDES</span></code> is set, those attributes
are removed from what is written in the <a class="reference internal" href="#zensols.lmtask.train.ModelResult.write" title="zensols.lmtask.train.ModelResult.write"><code class="xref py py-meth docutils literal notranslate"><span class="pre">write()</span></code></a> method.</p>
<p>Note that this attribute will need to be set in all descendants in the
instance hierarchy since writing the object instance graph is done
recursively.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>depth</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a></span>) – the starting indentation depth</p></li>
<li><p><strong>writer</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/io.html#io.TextIOBase" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">TextIOBase</span></code></a></span>) – the writer to dump the content of this writable</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="zensols.lmtask.train.Trainer">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">zensols.lmtask.train.</span></span><span class="sig-name descname"><span class="pre">Trainer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">resource</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">train_params</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">eval_params</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">train_source</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">eval_source</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">peft_output_dir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">merged_output_dir</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/lmtask/train.html#Trainer"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.lmtask.train.Trainer" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://plandes.github.io/util/api/zensols.config.html#zensols.config.dictable.Dictable" title="(in Zensols Utilities v1.15.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Dictable</span></code></a></p>
<p>An <code class="xref py py-class docutils literal notranslate"><span class="pre">UnslothTrainer</span></code> wrapper.</p>
<dl class="py method">
<dt class="sig sig-object py" id="zensols.lmtask.train.Trainer.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">resource</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">train_params</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">eval_params</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">train_source</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">eval_source</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">peft_output_dir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">merged_output_dir</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zensols.lmtask.train.Trainer.__init__" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.lmtask.train.Trainer.config">
<span class="sig-name descname"><span class="pre">config</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://plandes.github.io/util/api/zensols.config.html#zensols.config.configbase.Configurable" title="(in Zensols Utilities v1.15.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Configurable</span></code></a></em><a class="headerlink" href="#zensols.lmtask.train.Trainer.config" title="Link to this definition">¶</a></dt>
<dd><p>Used to save to the model result.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.lmtask.train.Trainer.eval_params">
<span class="sig-name descname"><span class="pre">eval_params</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Dict</span></code></a><span class="pre">[</span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a><span class="pre">,</span> <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code></a><span class="pre">]</span></em><a class="headerlink" href="#zensols.lmtask.train.Trainer.eval_params" title="Link to this definition">¶</a></dt>
<dd><p>The evaluation parameters used to configure the trainer.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.lmtask.train.Trainer.eval_source">
<span class="sig-name descname"><span class="pre">eval_source</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#zensols.lmtask.task.TaskDatasetFactory" title="zensols.lmtask.task.TaskDatasetFactory"><code class="xref py py-class docutils literal notranslate"><span class="pre">TaskDatasetFactory</span></code></a></em><a class="headerlink" href="#zensols.lmtask.train.Trainer.eval_source" title="Link to this definition">¶</a></dt>
<dd><p>A factory that creates new datasets used to evaluation.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.lmtask.train.Trainer.merged_output_dir">
<span class="sig-name descname"><span class="pre">merged_output_dir</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.13)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a><span class="pre">[</span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a><span class="pre">,</span> <a class="reference external" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Path</span></code></a><span class="pre">]</span></em><a class="headerlink" href="#zensols.lmtask.train.Trainer.merged_output_dir" title="Link to this definition">¶</a></dt>
<dd><p>The directory to save the base + perf in one model.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.lmtask.train.Trainer.peft_output_dir">
<span class="sig-name descname"><span class="pre">peft_output_dir</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.13)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a><span class="pre">[</span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a><span class="pre">,</span> <a class="reference external" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Path</span></code></a><span class="pre">]</span></em><a class="headerlink" href="#zensols.lmtask.train.Trainer.peft_output_dir" title="Link to this definition">¶</a></dt>
<dd><p>The directory to save the Peft model.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.lmtask.train.Trainer.resource">
<span class="sig-name descname"><span class="pre">resource</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#zensols.lmtask.train.TrainerResource" title="zensols.lmtask.train.TrainerResource"><code class="xref py py-class docutils literal notranslate"><span class="pre">TrainerResource</span></code></a></em><a class="headerlink" href="#zensols.lmtask.train.Trainer.resource" title="Link to this definition">¶</a></dt>
<dd><p>Used to create the model and tokenzier.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zensols.lmtask.train.Trainer.train">
<span class="sig-name descname"><span class="pre">train</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/lmtask/train.html#Trainer.train"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.lmtask.train.Trainer.train" title="Link to this definition">¶</a></dt>
<dd><p>Train the model.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="sphinx_autodoc_typehints-type"><a class="reference internal" href="#zensols.lmtask.train.ModelResult" title="zensols.lmtask.train.ModelResult"><code class="xref py py-class docutils literal notranslate"><span class="pre">ModelResult</span></code></a></span></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.lmtask.train.Trainer.train_params">
<span class="sig-name descname"><span class="pre">train_params</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Dict</span></code></a><span class="pre">[</span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a><span class="pre">,</span> <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code></a><span class="pre">]</span></em><a class="headerlink" href="#zensols.lmtask.train.Trainer.train_params" title="Link to this definition">¶</a></dt>
<dd><p>The training parameters used to configure the trainer.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.lmtask.train.Trainer.train_source">
<span class="sig-name descname"><span class="pre">train_source</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#zensols.lmtask.task.TaskDatasetFactory" title="zensols.lmtask.task.TaskDatasetFactory"><code class="xref py py-class docutils literal notranslate"><span class="pre">TaskDatasetFactory</span></code></a></em><a class="headerlink" href="#zensols.lmtask.train.Trainer.train_source" title="Link to this definition">¶</a></dt>
<dd><p>A factory that creates new datasets used to train using this instance.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zensols.lmtask.train.Trainer.write">
<span class="sig-name descname"><span class="pre">write</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">depth=0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">writer=&lt;_io.TextIOWrapper</span> <span class="pre">name='&lt;stdout&gt;'</span> <span class="pre">mode='w'</span> <span class="pre">encoding='utf-8'&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_training_arguments=False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/lmtask/train.html#Trainer.write"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.lmtask.train.Trainer.write" title="Link to this definition">¶</a></dt>
<dd><p>Write this instance as either a <code class="xref py py-class docutils literal notranslate"><span class="pre">Writable</span></code> or as a
<code class="xref py py-class docutils literal notranslate"><span class="pre">Dictable</span></code>.  If class attribute
<code class="docutils literal notranslate"><span class="pre">_DICTABLE_WRITABLE_DESCENDANTS</span></code> is set as <code class="docutils literal notranslate"><span class="pre">True</span></code>, then use the
<a class="reference internal" href="#zensols.lmtask.train.Trainer.write" title="zensols.lmtask.train.Trainer.write"><code class="xref py py-meth docutils literal notranslate"><span class="pre">write()</span></code></a> method on children instead of writing the generated
dictionary.  Otherwise, write this instance by first creating a <code class="docutils literal notranslate"><span class="pre">dict</span></code>
recursively using <code class="xref py py-meth docutils literal notranslate"><span class="pre">asdict()</span></code>, then formatting the output.</p>
<p>If the attribute <code class="docutils literal notranslate"><span class="pre">_DICTABLE_WRITE_EXCLUDES</span></code> is set, those attributes
are removed from what is written in the <a class="reference internal" href="#zensols.lmtask.train.Trainer.write" title="zensols.lmtask.train.Trainer.write"><code class="xref py py-meth docutils literal notranslate"><span class="pre">write()</span></code></a> method.</p>
<p>Note that this attribute will need to be set in all descendants in the
instance hierarchy since writing the object instance graph is done
recursively.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>depth</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a></span>) – the starting indentation depth</p></li>
<li><p><strong>writer</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/io.html#io.TextIOBase" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">TextIOBase</span></code></a></span>) – the writer to dump the content of this writable</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="zensols.lmtask.train.TrainerResource">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">zensols.lmtask.train.</span></span><span class="sig-name descname"><span class="pre">TrainerResource</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model_args</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cache</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/lmtask/train.html#TrainerResource"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.lmtask.train.TrainerResource" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://plandes.github.io/util/api/zensols.config.html#zensols.config.dictable.Dictable" title="(in Zensols Utilities v1.15.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Dictable</span></code></a>, <a class="reference external" href="https://plandes.github.io/util/api/zensols.persist.html#zensols.persist.domain.Primeable" title="(in Zensols Utilities v1.15.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Primeable</span></code></a></p>
<p>Configures and instantiates the base mode, PEFT mode, and the tokenizer.</p>
<dl class="py method">
<dt class="sig sig-object py" id="zensols.lmtask.train.TrainerResource.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model_args</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cache</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zensols.lmtask.train.TrainerResource.__init__" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.lmtask.train.TrainerResource.cache">
<span class="sig-name descname"><span class="pre">cache</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">True</span></em><a class="headerlink" href="#zensols.lmtask.train.TrainerResource.cache" title="Link to this definition">¶</a></dt>
<dd><p>Whether to cache the tokenizer and model.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="zensols.lmtask.train.TrainerResource.model">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">model</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">PreTrainedModel</span></em><a class="headerlink" href="#zensols.lmtask.train.TrainerResource.model" title="Link to this definition">¶</a></dt>
<dd><p>The base model.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.lmtask.train.TrainerResource.model_args">
<span class="sig-name descname"><span class="pre">model_args</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Dict</span></code></a><span class="pre">[</span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a><span class="pre">,</span> <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code></a><span class="pre">]</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#zensols.lmtask.train.TrainerResource.model_args" title="Link to this definition">¶</a></dt>
<dd><p>The parameters that create the base model and tokenzier.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="zensols.lmtask.train.TrainerResource.peft_model">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">peft_model</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">PeftModelForCausalLM</span></em><a class="headerlink" href="#zensols.lmtask.train.TrainerResource.peft_model" title="Link to this definition">¶</a></dt>
<dd><p>The PEFT (Parameter-Efficient Fine-Tuning) such as LoRA.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zensols.lmtask.train.TrainerResource.prime">
<span class="sig-name descname"><span class="pre">prime</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/lmtask/train.html#TrainerResource.prime"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.lmtask.train.TrainerResource.prime" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="zensols.lmtask.train.TrainerResource.tokenizer">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">tokenizer</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">PreTrainedTokenizer</span></em><a class="headerlink" href="#zensols.lmtask.train.TrainerResource.tokenizer" title="Link to this definition">¶</a></dt>
<dd><p>The base tokenizer.</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-zensols.lmtask">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-zensols.lmtask" title="Link to this heading">¶</a></h2>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="../CONTRIBUTING.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Contributing</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="../api.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">API Reference</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2025 Paul Landes
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">zensols.lmtask package</a><ul>
<li><a class="reference internal" href="#submodules">Submodules</a></li>
<li><a class="reference internal" href="#module-zensols.lmtask.app">zensols.lmtask.app module</a><ul>
<li><a class="reference internal" href="#zensols.lmtask.app.Application"><code class="docutils literal notranslate"><span class="pre">Application</span></code></a><ul>
<li><a class="reference internal" href="#zensols.lmtask.app.Application.__init__"><code class="docutils literal notranslate"><span class="pre">Application.__init__()</span></code></a></li>
<li><a class="reference internal" href="#zensols.lmtask.app.Application.config_factory"><code class="docutils literal notranslate"><span class="pre">Application.config_factory</span></code></a></li>
<li><a class="reference internal" href="#zensols.lmtask.app.Application.dataset_sample"><code class="docutils literal notranslate"><span class="pre">Application.dataset_sample()</span></code></a></li>
<li><a class="reference internal" href="#zensols.lmtask.app.Application.instruct"><code class="docutils literal notranslate"><span class="pre">Application.instruct()</span></code></a></li>
<li><a class="reference internal" href="#zensols.lmtask.app.Application.show_task"><code class="docutils literal notranslate"><span class="pre">Application.show_task()</span></code></a></li>
<li><a class="reference internal" href="#zensols.lmtask.app.Application.show_trainer"><code class="docutils literal notranslate"><span class="pre">Application.show_trainer()</span></code></a></li>
<li><a class="reference internal" href="#zensols.lmtask.app.Application.stream"><code class="docutils literal notranslate"><span class="pre">Application.stream()</span></code></a></li>
<li><a class="reference internal" href="#zensols.lmtask.app.Application.task_factory"><code class="docutils literal notranslate"><span class="pre">Application.task_factory</span></code></a></li>
<li><a class="reference internal" href="#zensols.lmtask.app.Application.train"><code class="docutils literal notranslate"><span class="pre">Application.train()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#zensols.lmtask.app.PrototypeApplication"><code class="docutils literal notranslate"><span class="pre">PrototypeApplication</span></code></a><ul>
<li><a class="reference internal" href="#zensols.lmtask.app.PrototypeApplication.CLI_META"><code class="docutils literal notranslate"><span class="pre">PrototypeApplication.CLI_META</span></code></a></li>
<li><a class="reference internal" href="#zensols.lmtask.app.PrototypeApplication.__init__"><code class="docutils literal notranslate"><span class="pre">PrototypeApplication.__init__()</span></code></a></li>
<li><a class="reference internal" href="#zensols.lmtask.app.PrototypeApplication.app"><code class="docutils literal notranslate"><span class="pre">PrototypeApplication.app</span></code></a></li>
<li><a class="reference internal" href="#zensols.lmtask.app.PrototypeApplication.config_factory"><code class="docutils literal notranslate"><span class="pre">PrototypeApplication.config_factory</span></code></a></li>
<li><a class="reference internal" href="#zensols.lmtask.app.PrototypeApplication.prompt"><code class="docutils literal notranslate"><span class="pre">PrototypeApplication.prompt</span></code></a></li>
<li><a class="reference internal" href="#zensols.lmtask.app.PrototypeApplication.proto"><code class="docutils literal notranslate"><span class="pre">PrototypeApplication.proto()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#module-zensols.lmtask.cli">zensols.lmtask.cli module</a><ul>
<li><a class="reference internal" href="#zensols.lmtask.cli.ApplicationFactory"><code class="docutils literal notranslate"><span class="pre">ApplicationFactory</span></code></a><ul>
<li><a class="reference internal" href="#zensols.lmtask.cli.ApplicationFactory.__init__"><code class="docutils literal notranslate"><span class="pre">ApplicationFactory.__init__()</span></code></a></li>
<li><a class="reference internal" href="#zensols.lmtask.cli.ApplicationFactory.get_application"><code class="docutils literal notranslate"><span class="pre">ApplicationFactory.get_application()</span></code></a></li>
<li><a class="reference internal" href="#zensols.lmtask.cli.ApplicationFactory.get_task_factory"><code class="docutils literal notranslate"><span class="pre">ApplicationFactory.get_task_factory()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#zensols.lmtask.cli.main"><code class="docutils literal notranslate"><span class="pre">main()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-zensols.lmtask.dataset">zensols.lmtask.dataset module</a><ul>
<li><a class="reference internal" href="#zensols.lmtask.dataset.LoadedTaskDatasetFactory"><code class="docutils literal notranslate"><span class="pre">LoadedTaskDatasetFactory</span></code></a><ul>
<li><a class="reference internal" href="#zensols.lmtask.dataset.LoadedTaskDatasetFactory.__init__"><code class="docutils literal notranslate"><span class="pre">LoadedTaskDatasetFactory.__init__()</span></code></a></li>
<li><a class="reference internal" href="#zensols.lmtask.dataset.LoadedTaskDatasetFactory.clear_generator_cache"><code class="docutils literal notranslate"><span class="pre">LoadedTaskDatasetFactory.clear_generator_cache()</span></code></a></li>
<li><a class="reference internal" href="#zensols.lmtask.dataset.LoadedTaskDatasetFactory.load_args"><code class="docutils literal notranslate"><span class="pre">LoadedTaskDatasetFactory.load_args</span></code></a></li>
<li><a class="reference internal" href="#zensols.lmtask.dataset.LoadedTaskDatasetFactory.post_process"><code class="docutils literal notranslate"><span class="pre">LoadedTaskDatasetFactory.post_process</span></code></a></li>
<li><a class="reference internal" href="#zensols.lmtask.dataset.LoadedTaskDatasetFactory.pre_process"><code class="docutils literal notranslate"><span class="pre">LoadedTaskDatasetFactory.pre_process</span></code></a></li>
<li><a class="reference internal" href="#zensols.lmtask.dataset.LoadedTaskDatasetFactory.source"><code class="docutils literal notranslate"><span class="pre">LoadedTaskDatasetFactory.source</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#module-zensols.lmtask.generate">zensols.lmtask.generate module</a><ul>
<li><a class="reference internal" href="#zensols.lmtask.generate.CachingGenerator"><code class="docutils literal notranslate"><span class="pre">CachingGenerator</span></code></a><ul>
<li><a class="reference internal" href="#zensols.lmtask.generate.CachingGenerator.__init__"><code class="docutils literal notranslate"><span class="pre">CachingGenerator.__init__()</span></code></a></li>
<li><a class="reference internal" href="#zensols.lmtask.generate.CachingGenerator.clear"><code class="docutils literal notranslate"><span class="pre">CachingGenerator.clear()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#zensols.lmtask.generate.ConstantTextGenerator"><code class="docutils literal notranslate"><span class="pre">ConstantTextGenerator</span></code></a><ul>
<li><a class="reference internal" href="#zensols.lmtask.generate.ConstantTextGenerator.__init__"><code class="docutils literal notranslate"><span class="pre">ConstantTextGenerator.__init__()</span></code></a></li>
<li><a class="reference internal" href="#zensols.lmtask.generate.ConstantTextGenerator.config_factory"><code class="docutils literal notranslate"><span class="pre">ConstantTextGenerator.config_factory</span></code></a></li>
<li><a class="reference internal" href="#zensols.lmtask.generate.ConstantTextGenerator.post_init_source"><code class="docutils literal notranslate"><span class="pre">ConstantTextGenerator.post_init_source</span></code></a></li>
<li><a class="reference internal" href="#zensols.lmtask.generate.ConstantTextGenerator.response"><code class="docutils literal notranslate"><span class="pre">ConstantTextGenerator.response</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#zensols.lmtask.generate.GenerateTask"><code class="docutils literal notranslate"><span class="pre">GenerateTask</span></code></a><ul>
<li><a class="reference internal" href="#zensols.lmtask.generate.GenerateTask.__init__"><code class="docutils literal notranslate"><span class="pre">GenerateTask.__init__()</span></code></a></li>
<li><a class="reference internal" href="#zensols.lmtask.generate.GenerateTask.clear"><code class="docutils literal notranslate"><span class="pre">GenerateTask.clear()</span></code></a></li>
<li><a class="reference internal" href="#zensols.lmtask.generate.GenerateTask.generator"><code class="docutils literal notranslate"><span class="pre">GenerateTask.generator</span></code></a></li>
<li><a class="reference internal" href="#zensols.lmtask.generate.GenerateTask.resource"><code class="docutils literal notranslate"><span class="pre">GenerateTask.resource</span></code></a></li>
<li><a class="reference internal" href="#zensols.lmtask.generate.GenerateTask.train_add_eos"><code class="docutils literal notranslate"><span class="pre">GenerateTask.train_add_eos</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#zensols.lmtask.generate.GeneratorOutput"><code class="docutils literal notranslate"><span class="pre">GeneratorOutput</span></code></a><ul>
<li><a class="reference internal" href="#zensols.lmtask.generate.GeneratorOutput.__init__"><code class="docutils literal notranslate"><span class="pre">GeneratorOutput.__init__()</span></code></a></li>
<li><a class="reference internal" href="#zensols.lmtask.generate.GeneratorOutput.model_output"><code class="docutils literal notranslate"><span class="pre">GeneratorOutput.model_output</span></code></a></li>
<li><a class="reference internal" href="#zensols.lmtask.generate.GeneratorOutput.parsed"><code class="docutils literal notranslate"><span class="pre">GeneratorOutput.parsed</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#zensols.lmtask.generate.GeneratorResource"><code class="docutils literal notranslate"><span class="pre">GeneratorResource</span></code></a><ul>
<li><a class="reference internal" href="#zensols.lmtask.generate.GeneratorResource.__init__"><code class="docutils literal notranslate"><span class="pre">GeneratorResource.__init__()</span></code></a></li>
<li><a class="reference internal" href="#zensols.lmtask.generate.GeneratorResource.clear"><code class="docutils literal notranslate"><span class="pre">GeneratorResource.clear()</span></code></a></li>
<li><a class="reference internal" href="#zensols.lmtask.generate.GeneratorResource.configure_model"><code class="docutils literal notranslate"><span class="pre">GeneratorResource.configure_model()</span></code></a></li>
<li><a class="reference internal" href="#zensols.lmtask.generate.GeneratorResource.configure_tokenizer"><code class="docutils literal notranslate"><span class="pre">GeneratorResource.configure_tokenizer()</span></code></a></li>
<li><a class="reference internal" href="#zensols.lmtask.generate.GeneratorResource.get_model_path"><code class="docutils literal notranslate"><span class="pre">GeneratorResource.get_model_path()</span></code></a></li>
<li><a class="reference internal" href="#zensols.lmtask.generate.GeneratorResource.model"><code class="docutils literal notranslate"><span class="pre">GeneratorResource.model</span></code></a></li>
<li><a class="reference internal" href="#zensols.lmtask.generate.GeneratorResource.model_args"><code class="docutils literal notranslate"><span class="pre">GeneratorResource.model_args</span></code></a></li>
<li><a class="reference internal" href="#zensols.lmtask.generate.GeneratorResource.model_class"><code class="docutils literal notranslate"><span class="pre">GeneratorResource.model_class</span></code></a></li>
<li><a class="reference internal" href="#zensols.lmtask.generate.GeneratorResource.model_desc"><code class="docutils literal notranslate"><span class="pre">GeneratorResource.model_desc</span></code></a></li>
<li><a class="reference internal" href="#zensols.lmtask.generate.GeneratorResource.model_file_name"><code class="docutils literal notranslate"><span class="pre">GeneratorResource.model_file_name</span></code></a></li>
<li><a class="reference internal" href="#zensols.lmtask.generate.GeneratorResource.model_id"><code class="docutils literal notranslate"><span class="pre">GeneratorResource.model_id</span></code></a></li>
<li><a class="reference internal" href="#zensols.lmtask.generate.GeneratorResource.name"><code class="docutils literal notranslate"><span class="pre">GeneratorResource.name</span></code></a></li>
<li><a class="reference internal" href="#zensols.lmtask.generate.GeneratorResource.peft_model_class"><code class="docutils literal notranslate"><span class="pre">GeneratorResource.peft_model_class</span></code></a></li>
<li><a class="reference internal" href="#zensols.lmtask.generate.GeneratorResource.peft_model_id"><code class="docutils literal notranslate"><span class="pre">GeneratorResource.peft_model_id</span></code></a></li>
<li><a class="reference internal" href="#zensols.lmtask.generate.GeneratorResource.system_role_name"><code class="docutils literal notranslate"><span class="pre">GeneratorResource.system_role_name</span></code></a></li>
<li><a class="reference internal" href="#zensols.lmtask.generate.GeneratorResource.tokenizer"><code class="docutils literal notranslate"><span class="pre">GeneratorResource.tokenizer</span></code></a></li>
<li><a class="reference internal" href="#zensols.lmtask.generate.GeneratorResource.tokenizer_class"><code class="docutils literal notranslate"><span class="pre">GeneratorResource.tokenizer_class</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#zensols.lmtask.generate.ModelTextGenerator"><code class="docutils literal notranslate"><span class="pre">ModelTextGenerator</span></code></a><ul>
<li><a class="reference internal" href="#zensols.lmtask.generate.ModelTextGenerator.__init__"><code class="docutils literal notranslate"><span class="pre">ModelTextGenerator.__init__()</span></code></a></li>
<li><a class="reference internal" href="#zensols.lmtask.generate.ModelTextGenerator.clear"><code class="docutils literal notranslate"><span class="pre">ModelTextGenerator.clear()</span></code></a></li>
<li><a class="reference internal" href="#zensols.lmtask.generate.ModelTextGenerator.generate_params"><code class="docutils literal notranslate"><span class="pre">ModelTextGenerator.generate_params</span></code></a></li>
<li><a class="reference internal" href="#zensols.lmtask.generate.ModelTextGenerator.resource"><code class="docutils literal notranslate"><span class="pre">ModelTextGenerator.resource</span></code></a></li>
<li><a class="reference internal" href="#zensols.lmtask.generate.ModelTextGenerator.stream"><code class="docutils literal notranslate"><span class="pre">ModelTextGenerator.stream()</span></code></a></li>
<li><a class="reference internal" href="#zensols.lmtask.generate.ModelTextGenerator.tokenize_decode_params"><code class="docutils literal notranslate"><span class="pre">ModelTextGenerator.tokenize_decode_params</span></code></a></li>
<li><a class="reference internal" href="#zensols.lmtask.generate.ModelTextGenerator.tokenize_params"><code class="docutils literal notranslate"><span class="pre">ModelTextGenerator.tokenize_params</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#zensols.lmtask.generate.ReplaceTextGenerator"><code class="docutils literal notranslate"><span class="pre">ReplaceTextGenerator</span></code></a><ul>
<li><a class="reference internal" href="#zensols.lmtask.generate.ReplaceTextGenerator.__init__"><code class="docutils literal notranslate"><span class="pre">ReplaceTextGenerator.__init__()</span></code></a></li>
<li><a class="reference internal" href="#zensols.lmtask.generate.ReplaceTextGenerator.replacements"><code class="docutils literal notranslate"><span class="pre">ReplaceTextGenerator.replacements</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#zensols.lmtask.generate.TextGenerator"><code class="docutils literal notranslate"><span class="pre">TextGenerator</span></code></a><ul>
<li><a class="reference internal" href="#zensols.lmtask.generate.TextGenerator.__init__"><code class="docutils literal notranslate"><span class="pre">TextGenerator.__init__()</span></code></a></li>
<li><a class="reference internal" href="#zensols.lmtask.generate.TextGenerator.clear"><code class="docutils literal notranslate"><span class="pre">TextGenerator.clear()</span></code></a></li>
<li><a class="reference internal" href="#zensols.lmtask.generate.TextGenerator.generate"><code class="docutils literal notranslate"><span class="pre">TextGenerator.generate()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#module-zensols.lmtask.hf">zensols.lmtask.hf module</a><ul>
<li><a class="reference internal" href="#zensols.lmtask.hf.HFTrainerResource"><code class="docutils literal notranslate"><span class="pre">HFTrainerResource</span></code></a><ul>
<li><a class="reference internal" href="#zensols.lmtask.hf.HFTrainerResource.__init__"><code class="docutils literal notranslate"><span class="pre">HFTrainerResource.__init__()</span></code></a></li>
<li><a class="reference internal" href="#zensols.lmtask.hf.HFTrainerResource.generator_resource"><code class="docutils literal notranslate"><span class="pre">HFTrainerResource.generator_resource</span></code></a></li>
<li><a class="reference internal" href="#zensols.lmtask.hf.HFTrainerResource.peft_config"><code class="docutils literal notranslate"><span class="pre">HFTrainerResource.peft_config</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#zensols.lmtask.hf.HuggingFaceTrainer"><code class="docutils literal notranslate"><span class="pre">HuggingFaceTrainer</span></code></a><ul>
<li><a class="reference internal" href="#zensols.lmtask.hf.HuggingFaceTrainer.__init__"><code class="docutils literal notranslate"><span class="pre">HuggingFaceTrainer.__init__()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#module-zensols.lmtask.instruct">zensols.lmtask.instruct module</a><ul>
<li><a class="reference internal" href="#zensols.lmtask.instruct.InstructModelTextGenerator"><code class="docutils literal notranslate"><span class="pre">InstructModelTextGenerator</span></code></a><ul>
<li><a class="reference internal" href="#zensols.lmtask.instruct.InstructModelTextGenerator.__init__"><code class="docutils literal notranslate"><span class="pre">InstructModelTextGenerator.__init__()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#zensols.lmtask.instruct.InstructTask"><code class="docutils literal notranslate"><span class="pre">InstructTask</span></code></a><ul>
<li><a class="reference internal" href="#zensols.lmtask.instruct.InstructTask.__init__"><code class="docutils literal notranslate"><span class="pre">InstructTask.__init__()</span></code></a></li>
<li><a class="reference internal" href="#zensols.lmtask.instruct.InstructTask.apply_chat_template"><code class="docutils literal notranslate"><span class="pre">InstructTask.apply_chat_template</span></code></a></li>
<li><a class="reference internal" href="#zensols.lmtask.instruct.InstructTask.chat_template_args"><code class="docutils literal notranslate"><span class="pre">InstructTask.chat_template_args</span></code></a></li>
<li><a class="reference internal" href="#zensols.lmtask.instruct.InstructTask.inference_template"><code class="docutils literal notranslate"><span class="pre">InstructTask.inference_template</span></code></a></li>
<li><a class="reference internal" href="#zensols.lmtask.instruct.InstructTask.role"><code class="docutils literal notranslate"><span class="pre">InstructTask.role</span></code></a></li>
<li><a class="reference internal" href="#zensols.lmtask.instruct.InstructTask.train_apply_chat_template"><code class="docutils literal notranslate"><span class="pre">InstructTask.train_apply_chat_template</span></code></a></li>
<li><a class="reference internal" href="#zensols.lmtask.instruct.InstructTask.train_template"><code class="docutils literal notranslate"><span class="pre">InstructTask.train_template</span></code></a></li>
<li><a class="reference internal" href="#zensols.lmtask.instruct.InstructTask.write"><code class="docutils literal notranslate"><span class="pre">InstructTask.write()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#zensols.lmtask.instruct.InstructTaskRequest"><code class="docutils literal notranslate"><span class="pre">InstructTaskRequest</span></code></a><ul>
<li><a class="reference internal" href="#zensols.lmtask.instruct.InstructTaskRequest.__init__"><code class="docutils literal notranslate"><span class="pre">InstructTaskRequest.__init__()</span></code></a></li>
<li><a class="reference internal" href="#zensols.lmtask.instruct.InstructTaskRequest.instruction"><code class="docutils literal notranslate"><span class="pre">InstructTaskRequest.instruction</span></code></a></li>
<li><a class="reference internal" href="#zensols.lmtask.instruct.InstructTaskRequest.write"><code class="docutils literal notranslate"><span class="pre">InstructTaskRequest.write()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#zensols.lmtask.instruct.NShotTaskRequest"><code class="docutils literal notranslate"><span class="pre">NShotTaskRequest</span></code></a><ul>
<li><a class="reference internal" href="#zensols.lmtask.instruct.NShotTaskRequest.__init__"><code class="docutils literal notranslate"><span class="pre">NShotTaskRequest.__init__()</span></code></a></li>
<li><a class="reference internal" href="#zensols.lmtask.instruct.NShotTaskRequest.examples"><code class="docutils literal notranslate"><span class="pre">NShotTaskRequest.examples</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#module-zensols.lmtask.llama">zensols.lmtask.llama module</a><ul>
<li><a class="reference internal" href="#zensols.lmtask.llama.LlamaGeneratorResource"><code class="docutils literal notranslate"><span class="pre">LlamaGeneratorResource</span></code></a><ul>
<li><a class="reference internal" href="#zensols.lmtask.llama.LlamaGeneratorResource.__init__"><code class="docutils literal notranslate"><span class="pre">LlamaGeneratorResource.__init__()</span></code></a></li>
<li><a class="reference internal" href="#zensols.lmtask.llama.LlamaGeneratorResource.configure_model"><code class="docutils literal notranslate"><span class="pre">LlamaGeneratorResource.configure_model()</span></code></a></li>
<li><a class="reference internal" href="#zensols.lmtask.llama.LlamaGeneratorResource.configure_tokenizer"><code class="docutils literal notranslate"><span class="pre">LlamaGeneratorResource.configure_tokenizer()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#module-zensols.lmtask.task">zensols.lmtask.task module</a><ul>
<li><a class="reference internal" href="#zensols.lmtask.task.JSONTaskResponse"><code class="docutils literal notranslate"><span class="pre">JSONTaskResponse</span></code></a><ul>
<li><a class="reference internal" href="#zensols.lmtask.task.JSONTaskResponse.__init__"><code class="docutils literal notranslate"><span class="pre">JSONTaskResponse.__init__()</span></code></a></li>
<li><a class="reference internal" href="#zensols.lmtask.task.JSONTaskResponse.any_failures"><code class="docutils literal notranslate"><span class="pre">JSONTaskResponse.any_failures</span></code></a></li>
<li><a class="reference internal" href="#zensols.lmtask.task.JSONTaskResponse.model_output_json"><code class="docutils literal notranslate"><span class="pre">JSONTaskResponse.model_output_json</span></code></a></li>
<li><a class="reference internal" href="#zensols.lmtask.task.JSONTaskResponse.robust_json"><code class="docutils literal notranslate"><span class="pre">JSONTaskResponse.robust_json</span></code></a></li>
<li><a class="reference internal" href="#zensols.lmtask.task.JSONTaskResponse.write"><code class="docutils literal notranslate"><span class="pre">JSONTaskResponse.write()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#zensols.lmtask.task.Task"><code class="docutils literal notranslate"><span class="pre">Task</span></code></a><ul>
<li><a class="reference internal" href="#zensols.lmtask.task.Task.__init__"><code class="docutils literal notranslate"><span class="pre">Task.__init__()</span></code></a></li>
<li><a class="reference internal" href="#zensols.lmtask.task.Task.clear"><code class="docutils literal notranslate"><span class="pre">Task.clear()</span></code></a></li>
<li><a class="reference internal" href="#zensols.lmtask.task.Task.description"><code class="docutils literal notranslate"><span class="pre">Task.description</span></code></a></li>
<li><a class="reference internal" href="#zensols.lmtask.task.Task.name"><code class="docutils literal notranslate"><span class="pre">Task.name</span></code></a></li>
<li><a class="reference internal" href="#zensols.lmtask.task.Task.prepare_dataset"><code class="docutils literal notranslate"><span class="pre">Task.prepare_dataset()</span></code></a></li>
<li><a class="reference internal" href="#zensols.lmtask.task.Task.prepare_request"><code class="docutils literal notranslate"><span class="pre">Task.prepare_request()</span></code></a></li>
<li><a class="reference internal" href="#zensols.lmtask.task.Task.process"><code class="docutils literal notranslate"><span class="pre">Task.process()</span></code></a></li>
<li><a class="reference internal" href="#zensols.lmtask.task.Task.request_class"><code class="docutils literal notranslate"><span class="pre">Task.request_class</span></code></a></li>
<li><a class="reference internal" href="#zensols.lmtask.task.Task.response_class"><code class="docutils literal notranslate"><span class="pre">Task.response_class</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#zensols.lmtask.task.TaskDatasetFactory"><code class="docutils literal notranslate"><span class="pre">TaskDatasetFactory</span></code></a><ul>
<li><a class="reference internal" href="#zensols.lmtask.task.TaskDatasetFactory.__init__"><code class="docutils literal notranslate"><span class="pre">TaskDatasetFactory.__init__()</span></code></a></li>
<li><a class="reference internal" href="#zensols.lmtask.task.TaskDatasetFactory.create"><code class="docutils literal notranslate"><span class="pre">TaskDatasetFactory.create()</span></code></a></li>
<li><a class="reference internal" href="#zensols.lmtask.task.TaskDatasetFactory.eval_field"><code class="docutils literal notranslate"><span class="pre">TaskDatasetFactory.eval_field</span></code></a></li>
<li><a class="reference internal" href="#zensols.lmtask.task.TaskDatasetFactory.messages_field"><code class="docutils literal notranslate"><span class="pre">TaskDatasetFactory.messages_field</span></code></a></li>
<li><a class="reference internal" href="#zensols.lmtask.task.TaskDatasetFactory.task"><code class="docutils literal notranslate"><span class="pre">TaskDatasetFactory.task</span></code></a></li>
<li><a class="reference internal" href="#zensols.lmtask.task.TaskDatasetFactory.text_field"><code class="docutils literal notranslate"><span class="pre">TaskDatasetFactory.text_field</span></code></a></li>
<li><a class="reference internal" href="#zensols.lmtask.task.TaskDatasetFactory.write"><code class="docutils literal notranslate"><span class="pre">TaskDatasetFactory.write()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#zensols.lmtask.task.TaskDatasetFactoryError"><code class="docutils literal notranslate"><span class="pre">TaskDatasetFactoryError</span></code></a><ul>
<li><a class="reference internal" href="#zensols.lmtask.task.TaskDatasetFactoryError.__module__"><code class="docutils literal notranslate"><span class="pre">TaskDatasetFactoryError.__module__</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#zensols.lmtask.task.TaskError"><code class="docutils literal notranslate"><span class="pre">TaskError</span></code></a><ul>
<li><a class="reference internal" href="#zensols.lmtask.task.TaskError.__annotations__"><code class="docutils literal notranslate"><span class="pre">TaskError.__annotations__</span></code></a></li>
<li><a class="reference internal" href="#zensols.lmtask.task.TaskError.__init__"><code class="docutils literal notranslate"><span class="pre">TaskError.__init__()</span></code></a></li>
<li><a class="reference internal" href="#zensols.lmtask.task.TaskError.__module__"><code class="docutils literal notranslate"><span class="pre">TaskError.__module__</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#zensols.lmtask.task.TaskFactory"><code class="docutils literal notranslate"><span class="pre">TaskFactory</span></code></a><ul>
<li><a class="reference internal" href="#zensols.lmtask.task.TaskFactory.__init__"><code class="docutils literal notranslate"><span class="pre">TaskFactory.__init__()</span></code></a></li>
<li><a class="reference internal" href="#zensols.lmtask.task.TaskFactory.config_factory"><code class="docutils literal notranslate"><span class="pre">TaskFactory.config_factory</span></code></a></li>
<li><a class="reference internal" href="#zensols.lmtask.task.TaskFactory.create"><code class="docutils literal notranslate"><span class="pre">TaskFactory.create()</span></code></a></li>
<li><a class="reference internal" href="#zensols.lmtask.task.TaskFactory.task_names"><code class="docutils literal notranslate"><span class="pre">TaskFactory.task_names</span></code></a></li>
<li><a class="reference internal" href="#zensols.lmtask.task.TaskFactory.write"><code class="docutils literal notranslate"><span class="pre">TaskFactory.write()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#zensols.lmtask.task.TaskObject"><code class="docutils literal notranslate"><span class="pre">TaskObject</span></code></a><ul>
<li><a class="reference internal" href="#zensols.lmtask.task.TaskObject.__init__"><code class="docutils literal notranslate"><span class="pre">TaskObject.__init__()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#zensols.lmtask.task.TaskRequest"><code class="docutils literal notranslate"><span class="pre">TaskRequest</span></code></a><ul>
<li><a class="reference internal" href="#zensols.lmtask.task.TaskRequest.__init__"><code class="docutils literal notranslate"><span class="pre">TaskRequest.__init__()</span></code></a></li>
<li><a class="reference internal" href="#zensols.lmtask.task.TaskRequest.model_input"><code class="docutils literal notranslate"><span class="pre">TaskRequest.model_input</span></code></a></li>
<li><a class="reference internal" href="#zensols.lmtask.task.TaskRequest.write"><code class="docutils literal notranslate"><span class="pre">TaskRequest.write()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#zensols.lmtask.task.TaskResponse"><code class="docutils literal notranslate"><span class="pre">TaskResponse</span></code></a><ul>
<li><a class="reference internal" href="#zensols.lmtask.task.TaskResponse.__init__"><code class="docutils literal notranslate"><span class="pre">TaskResponse.__init__()</span></code></a></li>
<li><a class="reference internal" href="#zensols.lmtask.task.TaskResponse.model_output"><code class="docutils literal notranslate"><span class="pre">TaskResponse.model_output</span></code></a></li>
<li><a class="reference internal" href="#zensols.lmtask.task.TaskResponse.model_output_raw"><code class="docutils literal notranslate"><span class="pre">TaskResponse.model_output_raw</span></code></a></li>
<li><a class="reference internal" href="#zensols.lmtask.task.TaskResponse.request"><code class="docutils literal notranslate"><span class="pre">TaskResponse.request</span></code></a></li>
<li><a class="reference internal" href="#zensols.lmtask.task.TaskResponse.write"><code class="docutils literal notranslate"><span class="pre">TaskResponse.write()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#module-zensols.lmtask.train">zensols.lmtask.train module</a><ul>
<li><a class="reference internal" href="#zensols.lmtask.train.ModelResult"><code class="docutils literal notranslate"><span class="pre">ModelResult</span></code></a><ul>
<li><a class="reference internal" href="#zensols.lmtask.train.ModelResult.__init__"><code class="docutils literal notranslate"><span class="pre">ModelResult.__init__()</span></code></a></li>
<li><a class="reference internal" href="#zensols.lmtask.train.ModelResult.config"><code class="docutils literal notranslate"><span class="pre">ModelResult.config</span></code></a></li>
<li><a class="reference internal" href="#zensols.lmtask.train.ModelResult.global_step"><code class="docutils literal notranslate"><span class="pre">ModelResult.global_step</span></code></a></li>
<li><a class="reference internal" href="#zensols.lmtask.train.ModelResult.metrics"><code class="docutils literal notranslate"><span class="pre">ModelResult.metrics</span></code></a></li>
<li><a class="reference internal" href="#zensols.lmtask.train.ModelResult.output_dir"><code class="docutils literal notranslate"><span class="pre">ModelResult.output_dir</span></code></a></li>
<li><a class="reference internal" href="#zensols.lmtask.train.ModelResult.train_output"><code class="docutils literal notranslate"><span class="pre">ModelResult.train_output</span></code></a></li>
<li><a class="reference internal" href="#zensols.lmtask.train.ModelResult.train_params"><code class="docutils literal notranslate"><span class="pre">ModelResult.train_params</span></code></a></li>
<li><a class="reference internal" href="#zensols.lmtask.train.ModelResult.training_loss"><code class="docutils literal notranslate"><span class="pre">ModelResult.training_loss</span></code></a></li>
<li><a class="reference internal" href="#zensols.lmtask.train.ModelResult.write"><code class="docutils literal notranslate"><span class="pre">ModelResult.write()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#zensols.lmtask.train.Trainer"><code class="docutils literal notranslate"><span class="pre">Trainer</span></code></a><ul>
<li><a class="reference internal" href="#zensols.lmtask.train.Trainer.__init__"><code class="docutils literal notranslate"><span class="pre">Trainer.__init__()</span></code></a></li>
<li><a class="reference internal" href="#zensols.lmtask.train.Trainer.config"><code class="docutils literal notranslate"><span class="pre">Trainer.config</span></code></a></li>
<li><a class="reference internal" href="#zensols.lmtask.train.Trainer.eval_params"><code class="docutils literal notranslate"><span class="pre">Trainer.eval_params</span></code></a></li>
<li><a class="reference internal" href="#zensols.lmtask.train.Trainer.eval_source"><code class="docutils literal notranslate"><span class="pre">Trainer.eval_source</span></code></a></li>
<li><a class="reference internal" href="#zensols.lmtask.train.Trainer.merged_output_dir"><code class="docutils literal notranslate"><span class="pre">Trainer.merged_output_dir</span></code></a></li>
<li><a class="reference internal" href="#zensols.lmtask.train.Trainer.peft_output_dir"><code class="docutils literal notranslate"><span class="pre">Trainer.peft_output_dir</span></code></a></li>
<li><a class="reference internal" href="#zensols.lmtask.train.Trainer.resource"><code class="docutils literal notranslate"><span class="pre">Trainer.resource</span></code></a></li>
<li><a class="reference internal" href="#zensols.lmtask.train.Trainer.train"><code class="docutils literal notranslate"><span class="pre">Trainer.train()</span></code></a></li>
<li><a class="reference internal" href="#zensols.lmtask.train.Trainer.train_params"><code class="docutils literal notranslate"><span class="pre">Trainer.train_params</span></code></a></li>
<li><a class="reference internal" href="#zensols.lmtask.train.Trainer.train_source"><code class="docutils literal notranslate"><span class="pre">Trainer.train_source</span></code></a></li>
<li><a class="reference internal" href="#zensols.lmtask.train.Trainer.write"><code class="docutils literal notranslate"><span class="pre">Trainer.write()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#zensols.lmtask.train.TrainerResource"><code class="docutils literal notranslate"><span class="pre">TrainerResource</span></code></a><ul>
<li><a class="reference internal" href="#zensols.lmtask.train.TrainerResource.__init__"><code class="docutils literal notranslate"><span class="pre">TrainerResource.__init__()</span></code></a></li>
<li><a class="reference internal" href="#zensols.lmtask.train.TrainerResource.cache"><code class="docutils literal notranslate"><span class="pre">TrainerResource.cache</span></code></a></li>
<li><a class="reference internal" href="#zensols.lmtask.train.TrainerResource.model"><code class="docutils literal notranslate"><span class="pre">TrainerResource.model</span></code></a></li>
<li><a class="reference internal" href="#zensols.lmtask.train.TrainerResource.model_args"><code class="docutils literal notranslate"><span class="pre">TrainerResource.model_args</span></code></a></li>
<li><a class="reference internal" href="#zensols.lmtask.train.TrainerResource.peft_model"><code class="docutils literal notranslate"><span class="pre">TrainerResource.peft_model</span></code></a></li>
<li><a class="reference internal" href="#zensols.lmtask.train.TrainerResource.prime"><code class="docutils literal notranslate"><span class="pre">TrainerResource.prime()</span></code></a></li>
<li><a class="reference internal" href="#zensols.lmtask.train.TrainerResource.tokenizer"><code class="docutils literal notranslate"><span class="pre">TrainerResource.tokenizer</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#module-zensols.lmtask">Module contents</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="../_static/documentation_options.js?v=a58bc63e"></script>
    <script src="../_static/doctools.js?v=9a2dae69"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/scripts/furo.js?v=5fa4622c"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=f281be69"></script>
    </body>
</html>